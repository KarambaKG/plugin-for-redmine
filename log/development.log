DEPRECATION WARNING: You didn't set `secret_key_base`. Read the upgrade documentation to learn more about this new config option. (called from service at /home/maxim/.rbenv/versions/2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140)
DEPRECATION WARNING: You didn't set `secret_key_base`. Read the upgrade documentation to learn more about this new config option. (called from service at /home/maxim/.rbenv/versions/2.3.1/lib/ruby/2.3.0/webrick/httpserver.rb:140)


Started GET "/" for 127.0.0.1 at 2017-06-06 20:43:42 +0600
Processing by WelcomeController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mSetting Load (0.2ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "rest_api_enabled"]]
  [1m[36mAnonymousUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('AnonymousUser')  ORDER BY "users"."id" ASC LIMIT 1[0m
WARNING: Can't mass-assign protected attributes for AnonymousUser: login
	app/models/user.rb:750:in `anonymous'
	app/models/user.rb:742:in `current'
	app/controllers/application_controller.rb:93:in `user_setup'
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mAnonymousUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."type" IN ('AnonymousUser') LIMIT 1[0m
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "default_notification_option"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("type", "lastname", "status", "created_on", "updated_on", "mail_notification") VALUES (?, ?, ?, ?, ?, ?)[0m  [["type", "AnonymousUser"], ["lastname", "Anonymous"], ["status", 0], ["created_on", "2017-06-06 20:43:42.387476"], ["updated_on", "2017-06-06 20:43:42.387476"], ["mail_notification", "only_my_events"]]
  [1m[35mSQL (0.2ms)[0m  SELECT "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_id" = ? AND "custom_values"."customized_type" = ?  ORDER BY custom_fields.position  [["customized_id", 4], ["customized_type", "Principal"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "tokens" WHERE "tokens"."user_id" = ? AND "tokens"."action" IN ('recovery', 'autologin', 'session')[0m  [["user_id", 4]]
  [1m[35m (86.9ms)[0m  commit transaction
  Current user: anonymous
  [1m[36mSetting Load (0.2ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "login_required"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "force_default_language_for_anonymous"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."id" ASC LIMIT 1[0m  [["builtin", 2]]
  [1m[35mGroupAnonymous Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('GroupAnonymous')  ORDER BY id LIMIT 1
  [1m[36mMember Load (0.2ms)[0m  [1mSELECT "members".* FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" INNER JOIN "users" ON "users"."id" = "members"."user_id" WHERE (projects.status <> 9) AND (members.user_id = 4 OR (projects.is_public = 't' AND users.type = 'GroupAnonymous'))[0m
  [1m[35mNews Load (0.4ms)[0m  SELECT  "news".* FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" WHERE (((projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news')) AND ((projects.is_public = 't' AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (4,2))))))  ORDER BY news.created_on DESC LIMIT 5
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "welcome_text"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "app_title"]]
  Rendered welcome/index.html.erb within layouts/base (48.7ms)
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "ui_theme"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "default_users_hide_mail"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "self_registration"]]
Completed 200 OK in 577ms (Views: 226.5ms | ActiveRecord: 95.0ms)


Started GET "/" for 127.0.0.1 at 2017-06-06 20:44:30 +0600
Processing by WelcomeController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mAnonymousUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('AnonymousUser')  ORDER BY "users"."id" ASC LIMIT 1[0m
  Current user: anonymous
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."id" ASC LIMIT 1  [["builtin", 2]]
  [1m[36mGroupAnonymous Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('GroupAnonymous')  ORDER BY id LIMIT 1[0m
  [1m[35mMember Load (0.2ms)[0m  SELECT "members".* FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" INNER JOIN "users" ON "users"."id" = "members"."user_id" WHERE (projects.status <> 9) AND (members.user_id = 4 OR (projects.is_public = 't' AND users.type = 'GroupAnonymous'))
  [1m[36mNews Load (0.4ms)[0m  [1mSELECT  "news".* FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" WHERE (((projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news')) AND ((projects.is_public = 't' AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (4,2))))))  ORDER BY news.created_on DESC LIMIT 5[0m
  Rendered welcome/index.html.erb within layouts/base (0.6ms)
Completed 200 OK in 16ms (Views: 5.4ms | ActiveRecord: 1.9ms)


Started GET "/login" for 127.0.0.1 at 2017-06-06 20:47:03 +0600
Processing by AccountController#login as HTML
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mAnonymousUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('AnonymousUser')  ORDER BY "users"."id" ASC LIMIT 1[0m
  Current user: anonymous
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "openid"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "autologin"]]
  [1m[35mSetting Load (0.0ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "lost_password"]]
  Rendered account/login.html.erb within layouts/base (3.7ms)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.5ms)


Started POST "/login" for 127.0.0.1 at 2017-06-06 20:47:21 +0600
Processing by AccountController#login as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZAc1QkQGoCSwlifl+JkJ+R2KNO+H9IfTpRNUIfJF8ioa3YISiKtGH57JrWhjGkTs0Jq4OKVispJaobOy1QaDQQ==", "back_url"=>"http://localhost:3000/", "username"=>"admin", "password"=>"[FILTERED]", "login"=>"Вход »"}
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mAnonymousUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('AnonymousUser')  ORDER BY "users"."id" ASC LIMIT 1
  Current user: anonymous
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."login" = ?[0m  [["login", "admin"]]
  [1m[35mSQL (168.3ms)[0m  UPDATE "users" SET "last_login_on" = '2017-06-06 20:47:21.453011' WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ?  [["id", 1]]
Successful authentication for 'admin' from 127.0.0.1 at 2017-06-06 14:47:21 UTC
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mToken Exists (0.2ms)[0m  SELECT  1 AS one FROM "tokens" WHERE "tokens"."value" = '' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT "tokens"."id" FROM "tokens" WHERE "tokens"."user_id" = ? AND "tokens"."action" = ?  ORDER BY "tokens"."updated_on" DESC LIMIT -1 OFFSET 9  [["user_id", 1], ["action", "session"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tokens" ("user_id", "action", "created_on", "updated_on", "value") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["action", "session"], ["created_on", "2017-06-06 20:47:21.628543"], ["updated_on", "2017-06-06 20:47:21.628543"], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"]]
  [1m[35m (86.3ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 276ms (ActiveRecord: 256.3ms)


Started GET "/" for 127.0.0.1 at 2017-06-06 20:47:21 +0600
Processing by WelcomeController#index as HTML
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "session_lifetime"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "session_timeout"]]
  [1m[36mSQL (67.9ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-06 20:47:21.739572' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "force_default_language_for_loggedin"]]
Redirected to http://localhost:3000/my/password
Filter chain halted as :check_password_change rendered or redirected
Completed 302 Found in 74ms (ActiveRecord: 68.4ms)


Started GET "/my/password" for 127.0.0.1 at 2017-06-06 20:47:21 +0600
Processing by MyController#password as HTML
  [1m[36mSQL (88.7ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-06 20:47:21.843776' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "password_min_length"]]
  Rendered my/password.html.erb within layouts/base (2.7ms)
  [1m[36mUserPreference Load (0.2ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "user_preferences" ("user_id", "others") VALUES (?, ?)[0m  [["user_id", 1], ["others", "---\n:no_self_notified: true\n"]]
  [1m[35m (67.9ms)[0m  commit transaction
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "gravatar_enabled"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 187ms (Views: 26.0ms | ActiveRecord: 157.9ms)


Started GET "/my/password" for 127.0.0.1 at 2017-06-06 21:04:36 +0600
Processing by MyController#password as HTML
  [1m[36mSQL (65.8ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-06 21:04:36.964558' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[35m (0.4ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  Rendered my/password.html.erb within layouts/base (0.8ms)
  [1m[35mUserPreference Load (0.2ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 80ms (Views: 10.2ms | ActiveRecord: 66.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-06 21:04:43 +0600
Processing by WelcomeController#index as HTML
  [1m[35mSQL (66.9ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:04:43.122134' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
Redirected to http://localhost:3000/my/password
Filter chain halted as :check_password_change rendered or redirected
Completed 302 Found in 70ms (ActiveRecord: 67.1ms)


Started GET "/my/password" for 127.0.0.1 at 2017-06-06 21:04:43 +0600
Processing by MyController#password as HTML
  [1m[36mSQL (82.8ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-06 21:04:43.203593' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  Rendered my/password.html.erb within layouts/base (1.2ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 98ms (Views: 11.6ms | ActiveRecord: 83.2ms)


Started POST "/my/password" for 127.0.0.1 at 2017-06-06 21:04:58 +0600
Processing by MyController#password as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BJ8AQewCvqHXxteGmIxS6kF8oUo14Rq3iR6p5ZmCYMOfWejIUkcsdjFFC4GsuuyljXYaGE3pZI33m4gulkBk+w==", "password"=>"[FILTERED]", "new_password"=>"[FILTERED]", "new_password_confirmation"=>"[FILTERED]", "commit"=>"Применить"}
  [1m[35mSQL (90.9ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:04:58.843829' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  Rendered my/password.html.erb within layouts/base (0.7ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 104ms (Views: 9.8ms | ActiveRecord: 91.3ms)


Started POST "/my/password" for 127.0.0.1 at 2017-06-06 21:05:15 +0600
Processing by MyController#password as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+R6gT3kO9IiDABx+MODd+YkdqjrFB7F+pWfTzxMwU+1i2EjGx0tmX2WDwHkE1mO2RRcRaL0Pz0Tb4vIEHPJX1Q==", "password"=>"[FILTERED]", "new_password"=>"[FILTERED]", "new_password_confirmation"=>"[FILTERED]", "commit"=>"Применить"}
  [1m[36mSQL (92.8ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-06 21:05:15.543222' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  Rendered my/password.html.erb within layouts/base (1.3ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 105ms (Views: 7.8ms | ActiveRecord: 93.2ms)


Started POST "/my/password" for 127.0.0.1 at 2017-06-06 21:05:29 +0600
Processing by MyController#password as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"026U9HxkPcmDTgGl+9PzQ8BPK3qCibqXlgS0l5iEzohIqHx9wiGvHmXN3aLP5U0MDEWQKPqBxK3ogZVcl0bKsA==", "password"=>"[FILTERED]", "new_password"=>"[FILTERED]", "new_password_confirmation"=>"[FILTERED]", "commit"=>"Применить"}
  [1m[35mSQL (73.4ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:05:29.230307' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailAddress Load (0.1ms)[0m  SELECT  "email_addresses".* FROM "email_addresses" WHERE "email_addresses"."user_id" = ? AND "email_addresses"."is_default" = ? LIMIT 1  [["user_id", 1], ["is_default", "t"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "password_max_age"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "time_format"]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSetting Load (0.0ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "date_format"]]
  [1m[35mSetting Load (0.0ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "unsubscribe"]]
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (admin = 't' AND id <> 1) LIMIT 1[0m  [["status", 1]]
  [1m[35mToken Load (0.2ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered my/_sidebar.html.erb (8.6ms)
  Rendered my/password.html.erb within layouts/base (12.7ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 127ms (Views: 18.6ms | ActiveRecord: 75.0ms)


Started POST "/my/password" for 127.0.0.1 at 2017-06-06 21:05:57 +0600
Processing by MyController#password as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Pd8iQi3hnL2W23TCUIdje0gGnCHgtfAIinOcTrliSiqmGcrLk6QOanBYqMVksd00hAwnc5i9jjL09r2FtqBOEg==", "password"=>"[FILTERED]", "new_password"=>"[FILTERED]", "new_password_confirmation"=>"[FILTERED]", "commit"=>"Применить"}
  [1m[35mSQL (84.8ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:05:57.540545' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "eb4b2cc2607dee0fd56ca9f9edaf21f5f912d744"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mEmailAddress Load (0.1ms)[0m  SELECT  "email_addresses".* FROM "email_addresses" WHERE "email_addresses"."user_id" = ? AND "email_addresses"."is_default" = ? LIMIT 1  [["user_id", 1], ["is_default", "t"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "must_change_passwd" = ?, "salt" = ?, "hashed_password" = ?, "passwd_changed_on" = ?, "updated_on" = ? WHERE "users"."id" = ?[0m  [["must_change_passwd", "f"], ["salt", "6fcedbab8f0b92be170426f868f9fa99"], ["hashed_password", "8635238688a1a9725d46312fa3b29d1d1916d618"], ["passwd_changed_on", "2017-06-06 21:05:57.000000"], ["updated_on", "2017-06-06 21:05:57.629747"], ["id", 1]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'UserCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_id" = ? AND "custom_values"."customized_type" = ?  ORDER BY custom_fields.position[0m  [["customized_id", 1], ["customized_type", "Principal"]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "tokens" WHERE "tokens"."user_id" = ? AND "tokens"."action" IN ('recovery', 'autologin', 'session')  [["user_id", 1]]
  [1m[36m (79.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "tokens" WHERE "tokens"."value" = '' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT "tokens"."id" FROM "tokens" WHERE "tokens"."user_id" = ? AND "tokens"."action" = ?  ORDER BY "tokens"."updated_on" DESC LIMIT -1 OFFSET 9[0m  [["user_id", 1], ["action", "session"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "tokens" ("user_id", "action", "created_on", "updated_on", "value") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["action", "session"], ["created_on", "2017-06-06 21:05:57.717523"], ["updated_on", "2017-06-06 21:05:57.717523"], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"]]
  [1m[36m (93.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/my/account
Completed 302 Found in 285ms (ActiveRecord: 259.8ms)


Started GET "/my/account" for 127.0.0.1 at 2017-06-06 21:05:57 +0600
Processing by MyController#account as HTML
  [1m[35mSQL (81.0ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:05:57.836078' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "email_addresses" WHERE "email_addresses"."user_id" = ?  [["user_id", 1]]
  [1m[36mSetting Load (0.0ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "max_additional_emails"]]
  [1m[35mEmailAddress Load (0.1ms)[0m  SELECT  "email_addresses".* FROM "email_addresses" WHERE "email_addresses"."user_id" = ? AND "email_addresses"."is_default" = ? LIMIT 1  [["user_id", 1], ["is_default", "t"]]
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'UserCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mMember Load (0.2ms)[0m  SELECT "members".* FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9)  [["user_id", 1]]
  [1m[36mProject Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  Rendered users/_mail_notifications.html.erb (7.9ms)
  Rendered users/_preferences.html.erb (201.9ms)
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (admin = 't' AND id <> 1) LIMIT 1  [["status", 1]]
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  Rendered my/_sidebar.html.erb (2.4ms)
  Rendered my/account.html.erb within layouts/base (1151.3ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 1245ms (Views: 1156.0ms | ActiveRecord: 82.8ms)


Started POST "/my/account" for 127.0.0.1 at 2017-06-06 21:11:35 +0600
Processing by MyController#account as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"f9Nj6nk28gwisRfEcVwOzchCTatd70b7p+/p0f7w18bkFYtjx3Ng28Qyy8NFarCCBEj2+SXnOMHZasga8TLT/g==", "user"=>{"firstname"=>"Redmine", "lastname"=>"Admin", "mail"=>"admin@example.net", "language"=>"", "mail_notification"=>"all", "notified_project_ids"=>[""]}, "commit"=>"Сохранить", "pref"=>{"no_self_notified"=>"1", "hide_mail"=>"1", "time_zone"=>"Astana", "comments_sorting"=>"asc", "warn_on_leaving_unsaved"=>"1"}}
  [1m[36mSQL (58.8ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-06 21:11:35.614733' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mEmailAddress Load (0.1ms)[0m  [1mSELECT  "email_addresses".* FROM "email_addresses" WHERE "email_addresses"."user_id" = ? AND "email_addresses"."is_default" = ? LIMIT 1[0m  [["user_id", 1], ["is_default", "t"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'UserCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_id" = ? AND "custom_values"."customized_type" = ?  ORDER BY custom_fields.position  [["customized_id", 1], ["customized_type", "Principal"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "members" SET "mail_notification" = 'f' WHERE "members"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "user_preferences" SET "others" = ?, "time_zone" = ? WHERE "user_preferences"."id" = ?  [["others", "---\n:no_self_notified: '1'\n:comments_sorting: asc\n:warn_on_leaving_unsaved: '1'\n"], ["time_zone", "Astana"], ["id", 1]]
  [1m[36m (72.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/my/account
Completed 302 Found in 152ms (ActiveRecord: 132.1ms)


Started GET "/my/account" for 127.0.0.1 at 2017-06-06 21:11:35 +0600
Processing by MyController#account as HTML
  [1m[35mSQL (70.7ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:11:35.780468' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "email_addresses" WHERE "email_addresses"."user_id" = ?  [["user_id", 1]]
  [1m[36mEmailAddress Load (0.1ms)[0m  [1mSELECT  "email_addresses".* FROM "email_addresses" WHERE "email_addresses"."user_id" = ? AND "email_addresses"."is_default" = ? LIMIT 1[0m  [["user_id", 1], ["is_default", "t"]]
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'UserCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mMember Load (0.1ms)[0m  [1mSELECT "members".* FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9)[0m  [["user_id", 1]]
  [1m[35mProject Exists (0.1ms)[0m  SELECT  1 AS one FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1  [["user_id", 1]]
  Rendered users/_mail_notifications.html.erb (5.2ms)
  Rendered users/_preferences.html.erb (19.6ms)
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (admin = 't' AND id <> 1) LIMIT 1[0m  [["status", 1]]
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered my/_sidebar.html.erb (3.1ms)
  Rendered my/account.html.erb within layouts/base (41.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 129ms (Views: 49.9ms | ActiveRecord: 72.3ms)


Started GET "/my/page" for 127.0.0.1 at 2017-06-06 21:11:51 +0600
Processing by MyController#page as HTML
  [1m[35mSQL (68.0ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:11:51.031517' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "enumerations"."id" AS t4_r0, "enumerations"."name" AS t4_r1, "enumerations"."position" AS t4_r2, "enumerations"."is_default" AS t4_r3, "enumerations"."type" AS t4_r4, "enumerations"."active" AS t4_r5, "enumerations"."project_id" AS t4_r6, "enumerations"."parent_id" AS t4_r7, "enumerations"."position_name" AS t4_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 10
  Rendered issues/_list_simple.html.erb (2.7ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mToken Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "tokens" WHERE "tokens"."value" = '' LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "tokens" WHERE "tokens"."user_id" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["action", "feeds"]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "tokens" ("action", "user_id", "created_on", "updated_on", "value") VALUES (?, ?, ?, ?, ?)  [["action", "feeds"], ["user_id", 1], ["created_on", "2017-06-06 21:11:51.172770"], ["updated_on", "2017-06-06 21:11:51.172770"], ["value", "a7194005c20f3689a81f9aa1ec9f519a15fe38b4"]]
  [1m[36m (76.9ms)[0m  [1mcommit transaction[0m
  Rendered my/blocks/_issuesassignedtome.html.erb (148.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  [["author_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  ORDER BY issues.updated_on DESC LIMIT 10[0m  [["author_id", 1]]
  Rendered issues/_list_simple.html.erb (0.1ms)
  Rendered my/blocks/_issuesreportedbyme.html.erb (7.4ms)
  Rendered my/page.html.erb within layouts/base (160.1ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 238ms (Views: 85.2ms | ActiveRecord: 149.0ms)


Started GET "/projects" for 127.0.0.1 at 2017-06-06 21:11:56 +0600
Processing by ProjectsController#index as HTML
  [1m[36mSQL (75.9ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-06 21:11:56.054594' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9) AND "projects"."status" = ?  ORDER BY "projects"."lft" ASC  [["status", 1]]
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  Rendered projects/index.html.erb within layouts/base (3.3ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.9ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 97ms (Views: 13.4ms | ActiveRecord: 77.7ms)


Started GET "/admin" for 127.0.0.1 at 2017-06-06 21:12:00 +0600
Processing by AdminController#index as HTML
  [1m[35mSQL (78.0ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:12:00.841807' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."builtin" = ? LIMIT 1[0m  [["builtin", 0]]
  Rendered admin/_menu.html.erb (3.0ms)
  Rendered admin/index.html.erb within layouts/admin (5.3ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  Rendered layouts/base.html.erb (6.1ms)
Completed 200 OK in 101ms (Views: 17.1ms | ActiveRecord: 78.5ms)


Started GET "/my/page" for 127.0.0.1 at 2017-06-06 21:12:26 +0600
Processing by MyController#page as HTML
  [1m[35mSQL (73.1ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-06 21:12:26.250773' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "c7f9250690cd91fa8d45e62d45bbff325ded4749"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "enumerations"."id" AS t4_r0, "enumerations"."name" AS t4_r1, "enumerations"."position" AS t4_r2, "enumerations"."is_default" AS t4_r3, "enumerations"."type" AS t4_r4, "enumerations"."active" AS t4_r5, "enumerations"."project_id" AS t4_r6, "enumerations"."parent_id" AS t4_r7, "enumerations"."position_name" AS t4_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 10
  Rendered issues/_list_simple.html.erb (0.2ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  Rendered my/blocks/_issuesassignedtome.html.erb (23.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  [["author_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  ORDER BY issues.updated_on DESC LIMIT 10[0m  [["author_id", 1]]
  Rendered issues/_list_simple.html.erb (0.1ms)
  Rendered my/blocks/_issuesreportedbyme.html.erb (5.3ms)
  Rendered my/page.html.erb within layouts/base (31.6ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 117ms (Views: 38.5ms | ActiveRecord: 74.7ms)


Started GET "/my/page" for 127.0.0.1 at 2017-06-07 11:07:38 +0600
Processing by MyController#page as HTML
  [1m[36m (11.0ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mSetting Load (11.9ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "rest_api_enabled"]]
  [1m[36mAnonymousUser Load (9.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('AnonymousUser')  ORDER BY "users"."id" ASC LIMIT 1[0m
  Current user: anonymous
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "login_required"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "force_default_language_for_anonymous"]]
Redirected to http://localhost:3000/login?back_url=http%3A%2F%2Flocalhost%3A3000%2Fmy%2Fpage
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 303ms (ActiveRecord: 33.4ms)


Started GET "/login?back_url=http%3A%2F%2Flocalhost%3A3000%2Fmy%2Fpage" for 127.0.0.1 at 2017-06-07 11:07:39 +0600
Processing by AccountController#login as HTML
  Parameters: {"back_url"=>"http://localhost:3000/my/page"}
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mAnonymousUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('AnonymousUser')  ORDER BY "users"."id" ASC LIMIT 1[0m
  Current user: anonymous
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "openid"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "autologin"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "lost_password"]]
  Rendered account/login.html.erb within layouts/base (65.5ms)
  [1m[36mSetting Load (0.2ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "app_title"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "ui_theme"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "default_users_hide_mail"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "self_registration"]]
Completed 200 OK in 410ms (Views: 406.4ms | ActiveRecord: 1.5ms)


Started POST "/login" for 127.0.0.1 at 2017-06-07 11:07:41 +0600
Processing by AccountController#login as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JjjINimnuwtiKry+e3wyj8EYmBVCSjMA7Fcw7arSJU+Ei7hUGnGL7ViDMS2QbLv7X4mZtlWHGJQgLdsxffgRng==", "back_url"=>"http://localhost:3000/my/page", "username"=>"admin", "password"=>"[FILTERED]", "login"=>"Вход »"}
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mAnonymousUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('AnonymousUser')  ORDER BY "users"."id" ASC LIMIT 1
  Current user: anonymous
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."login" = ?[0m  [["login", "admin"]]
  [1m[35mSQL (87.8ms)[0m  UPDATE "users" SET "last_login_on" = '2017-06-07 11:07:41.273752' WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ?  [["id", 1]]
Successful authentication for 'admin' from 127.0.0.1 at 2017-06-07 05:07:41 UTC
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mToken Exists (9.5ms)[0m  SELECT  1 AS one FROM "tokens" WHERE "tokens"."value" = '' LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (28.1ms)[0m  SELECT "tokens"."id" FROM "tokens" WHERE "tokens"."user_id" = ? AND "tokens"."action" = ?  ORDER BY "tokens"."updated_on" DESC LIMIT -1 OFFSET 9  [["user_id", 1], ["action", "session"]]
  [1m[36mSQL (7.9ms)[0m  [1mINSERT INTO "tokens" ("user_id", "action", "created_on", "updated_on", "value") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["action", "session"], ["created_on", "2017-06-07 11:07:41.445168"], ["updated_on", "2017-06-07 11:07:41.445168"], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"]]
  [1m[35m (89.7ms)[0m  commit transaction
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "password_max_age"]]
Redirected to http://localhost:3000/my/page
Completed 302 Found in 343ms (ActiveRecord: 225.2ms)


Started GET "/my/page" for 127.0.0.1 at 2017-06-07 11:07:41 +0600
Processing by MyController#page as HTML
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "session_lifetime"]]
  [1m[36mSetting Load (0.2ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "session_timeout"]]
  [1m[35mSQL (67.5ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:07:41.627304' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "force_default_language_for_loggedin"]]
  [1m[35mUserPreference Load (3.4ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (15.4ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1
  [1m[36mSQL (0.5ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "enumerations"."id" AS t4_r0, "enumerations"."name" AS t4_r1, "enumerations"."position" AS t4_r2, "enumerations"."is_default" AS t4_r3, "enumerations"."type" AS t4_r4, "enumerations"."active" AS t4_r5, "enumerations"."project_id" AS t4_r6, "enumerations"."parent_id" AS t4_r7, "enumerations"."position_name" AS t4_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 10[0m
  Rendered issues/_list_simple.html.erb (0.9ms)
  [1m[35mToken Load (0.2ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered my/blocks/_issuesassignedtome.html.erb (206.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?[0m  [["author_id", 1]]
  [1m[35mSQL (0.4ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  ORDER BY issues.updated_on DESC LIMIT 10  [["author_id", 1]]
  Rendered issues/_list_simple.html.erb (0.1ms)
  Rendered my/blocks/_issuesreportedbyme.html.erb (8.0ms)
  Rendered my/page.html.erb within layouts/base (235.3ms)
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "gravatar_enabled"]]
  [1m[35mProject Load (9.4ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 378ms (Views: 265.5ms | ActiveRecord: 100.9ms)


Started GET "/issues?assigned_to_id=me&set_filter=1&sort=priority%3Adesc%2Cupdated_on%3Adesc" for 127.0.0.1 at 2017-06-07 11:07:43 +0600
Processing by IssuesController#index as HTML
  Parameters: {"assigned_to_id"=>"me", "set_filter"=>"1", "sort"=>"priority:desc,updated_on:desc"}
  [1m[36mSQL (98.5ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:07:43.963301' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (14.0ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (4.7ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.4ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (15.7ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.5ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mSetting Load (0.2ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "issue_group_assignment"]]
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36mSetting Load (0.2ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "issue_list_default_totals"]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "user_format"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "per_page_options"]]
  [1m[36m (0.2ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mSQL (0.6ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')))  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "start_of_week"]]
  Rendered queries/_filters.html.erb (50.5ms)
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "issue_list_default_columns"]]
  Rendered queries/_columns.html.erb (4.8ms)
  [1m[36mToken Load (0.2ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mSetting Load (0.2ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "issues_export_limit"]]
  [1m[36mIssueQuery Load (0.4ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (4.1ms)
  Rendered issues/index.html.erb within layouts/base (87.3ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "new_item_menu_tab"]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 427ms (Views: 114.5ms | ActiveRecord: 141.5ms)


Started GET "/issues?utf8=%E2%9C%93&set_filter=1&f%5B%5D=status_id&op%5Bstatus_id%5D=o&f%5B%5D=assigned_to_id&op%5Bassigned_to_id%5D=%3D&v%5Bassigned_to_id%5D%5B%5D=me&f%5B%5D=issue_id&op%5Bissue_id%5D=*&f%5B%5D=priority_id&op%5Bpriority_id%5D=%3D&v%5Bpriority_id%5D%5B%5D=1&f%5B%5D=created_on&op%5Bcreated_on%5D=t&f%5B%5D=&c%5B%5D=project&c%5B%5D=tracker&c%5B%5D=status&c%5B%5D=priority&c%5B%5D=subject&c%5B%5D=assigned_to&c%5B%5D=updated_on&group_by=&t%5B%5D=" for 127.0.0.1 at 2017-06-07 11:08:41 +0600
Processing by IssuesController#index as HTML
  Parameters: {"utf8"=>"✓", "set_filter"=>"1", "f"=>["status_id", "assigned_to_id", "issue_id", "priority_id", "created_on", ""], "op"=>{"status_id"=>"o", "assigned_to_id"=>"=", "issue_id"=>"*", "priority_id"=>"=", "created_on"=>"t"}, "v"=>{"assigned_to_id"=>["me"], "priority_id"=>["1"]}, "c"=>["project", "tracker", "status", "priority", "subject", "assigned_to", "updated_on"], "group_by"=>"", "t"=>[""]}
  [1m[36mSQL (83.8ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:08:41.052146' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.3ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.2ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (0.9ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.3ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mIssueCustomField Load (0.3ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36m (0.2ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUserPreference Load (0.2ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (11.8ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0[0m
  Rendered queries/_filters.html.erb (14.3ms)
  Rendered queries/_columns.html.erb (2.3ms)
  [1m[35mToken Load (0.3ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.3ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (2.5ms)
  Rendered issues/index.html.erb within layouts/base (34.1ms)
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 185ms (Views: 41.8ms | ActiveRecord: 101.1ms)


Started GET "/queries/new?utf8=%E2%9C%93&set_filter=1&f%5B%5D=status_id&op%5Bstatus_id%5D=o&f%5B%5D=assigned_to_id&op%5Bassigned_to_id%5D=%3D&v%5Bassigned_to_id%5D%5B%5D=me&f%5B%5D=issue_id&op%5Bissue_id%5D=*&f%5B%5D=priority_id&op%5Bpriority_id%5D=%3D&v%5Bpriority_id%5D%5B%5D=1&f%5B%5D=created_on&op%5Bcreated_on%5D=t&f%5B%5D=&c%5B%5D=project&c%5B%5D=tracker&c%5B%5D=status&c%5B%5D=priority&c%5B%5D=subject&c%5B%5D=assigned_to&c%5B%5D=updated_on&group_by=&t%5B%5D=" for 127.0.0.1 at 2017-06-07 11:08:43 +0600
Processing by QueriesController#new as HTML
  Parameters: {"utf8"=>"✓", "set_filter"=>"1", "f"=>["status_id", "assigned_to_id", "issue_id", "priority_id", "created_on", ""], "op"=>{"status_id"=>"o", "assigned_to_id"=>"=", "issue_id"=>"*", "priority_id"=>"=", "created_on"=>"t"}, "v"=>{"assigned_to_id"=>["me"], "priority_id"=>["1"]}, "c"=>["project", "tracker", "status", "priority", "subject", "assigned_to", "updated_on"], "group_by"=>"", "t"=>[""]}
  [1m[36mSQL (59.7ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:08:43.098537' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC, "roles"."builtin" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')[0m
  Rendered queries/_filters.html.erb (5.7ms)
  Rendered queries/_columns.html.erb (2.0ms)
  Rendered queries/_form.html.erb (55.5ms)
  Rendered queries/new.html.erb within layouts/base (64.8ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 176ms (Views: 92.3ms | ActiveRecord: 62.3ms)


Started POST "/queries" for 127.0.0.1 at 2017-06-07 11:09:09 +0600
Processing by QueriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V10GHUWVBoHZg3Zp5XGE/sxSAICjp/LRjCoe29mekqdczS7j4OndhudQ/nm/ceG7kgxJL8TpyQiBDz2wAnvNbQ==", "query"=>{"name"=>"Пробная задача", "visibility"=>"2", "role_ids"=>[""], "group_by"=>"", "sort_criteria"=>{"0"=>["", ""], "1"=>["", ""], "2"=>["", ""]}}, "query_is_for_all"=>"1", "default_columns"=>"1", "c"=>["description", "project", "tracker", "status", "priority", "subject", "assigned_to", "updated_on"], "t"=>[""], "f"=>["status_id", "assigned_to_id", "issue_id", "priority_id", "created_on", ""], "op"=>{"status_id"=>"o", "assigned_to_id"=>"=", "issue_id"=>"*", "priority_id"=>"=", "created_on"=>"t"}, "v"=>{"assigned_to_id"=>["me"], "priority_id"=>["1"]}, "commit"=>"Сохранить"}
  [1m[35mSQL (251.7ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:09:09.247242' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?  [["sharing", "system"]]
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mMember Exists (0.1ms)[0m  SELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1  [["user_id", 1]]
  [1m[36mTracker Load (0.5ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mIssuePriority Load (0.5ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (44.6ms)[0m  INSERT INTO "queries" ("filters", "options", "type", "user_id", "group_by", "name", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?)  [["filters", "---\nstatus_id:\n  :operator: o\n  :values:\n  - ''\nassigned_to_id:\n  :operator: \"=\"\n  :values:\n  - me\nissue_id:\n  :operator: \"*\"\n  :values:\n  - ''\npriority_id:\n  :operator: \"=\"\n  :values:\n  - '1'\ncreated_on:\n  :operator: t\n  :values:\n  - ''\n"], ["options", "---\n:totalable_names: []\n:draw_relations: \n:draw_progress_line: \n"], ["type", "IssueQuery"], ["user_id", 1], ["group_by", ""], ["name", "Пробная задача"], ["visibility", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "queries_roles" WHERE "queries_roles"."query_id" = ? AND 1=0[0m  [["query_id", 1]]
  [1m[35m (107.8ms)[0m  commit transaction
Redirected to http://localhost:3000/issues?query_id=1
Completed 302 Found in 439ms (ActiveRecord: 406.6ms)


Started GET "/issues?query_id=1" for 127.0.0.1 at 2017-06-07 11:09:09 +0600
Processing by IssuesController#index as HTML
  Parameters: {"query_id"=>"1"}
  [1m[36mSQL (81.9ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:09:09.695993' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.3ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssueQuery Load (0.2ms)[0m  SELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND (project_id IS NULL) AND "queries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssueCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')[0m
  [1m[35mTracker Load (0.5ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?  [["sharing", "system"]]
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mMember Exists (0.1ms)[0m  SELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1  [["user_id", 1]]
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35m (0.2ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mSQL (0.9ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0
  Rendered queries/_filters.html.erb (7.4ms)
  Rendered queries/_columns.html.erb (2.5ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssueQuery Load (0.4ms)[0m  SELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC
  Rendered issues/_sidebar.html.erb (3.3ms)
  Rendered issues/index.html.erb within layouts/base (23.6ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 159ms (Views: 31.5ms | ActiveRecord: 87.1ms)


Started GET "/issues?query_id=1" for 127.0.0.1 at 2017-06-07 11:09:38 +0600
Processing by IssuesController#index as HTML
  Parameters: {"query_id"=>"1"}
  [1m[35mSQL (65.4ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:09:38.776027' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueQuery Load (0.1ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND (project_id IS NULL) AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36mTracker Load (0.4ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.2ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUserPreference Load (0.2ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0[0m
  Rendered queries/_filters.html.erb (9.3ms)
  Rendered queries/_columns.html.erb (2.5ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.4ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (4.5ms)
  Rendered issues/index.html.erb within layouts/base (32.1ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 149ms (Views: 43.1ms | ActiveRecord: 70.3ms)


Started GET "/queries/1/edit" for 127.0.0.1 at 2017-06-07 11:09:55 +0600
Processing by QueriesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (92.3ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:09:55.058264' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssueQuery Load (0.2ms)[0m  SELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND "queries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC, "roles"."builtin" ASC[0m  [["builtin", 0]]
  [1m[35mRole Exists (10.6ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "queries_roles" ON "roles"."id" = "queries_roles"."role_id" WHERE "queries_roles"."query_id" = ? AND "roles"."id" = ? LIMIT 1  [["query_id", 1], ["id", 3]]
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "queries_roles" ON "roles"."id" = "queries_roles"."role_id" WHERE "queries_roles"."query_id" = ? AND "roles"."id" = ? LIMIT 1[0m  [["query_id", 1], ["id", 4]]
  [1m[35mRole Exists (0.1ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "queries_roles" ON "roles"."id" = "queries_roles"."role_id" WHERE "queries_roles"."query_id" = ? AND "roles"."id" = ? LIMIT 1  [["query_id", 1], ["id", 5]]
  [1m[36mIssueCustomField Load (0.4ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')[0m
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?  [["sharing", "system"]]
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mMember Exists (0.1ms)[0m  SELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1  [["user_id", 1]]
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  Rendered queries/_filters.html.erb (17.7ms)
  Rendered queries/_columns.html.erb (1.9ms)
  Rendered queries/_form.html.erb (84.2ms)
  Rendered queries/edit.html.erb within layouts/base (86.3ms)
  [1m[35mUserPreference Load (0.2ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 210ms (Views: 99.2ms | ActiveRecord: 106.2ms)


Started PUT "/queries/1" for 127.0.0.1 at 2017-06-07 11:10:16 +0600
Processing by QueriesController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qb+vmMpPXB/uj2u7SmIUESVQ6Z+/TdFCGJH6kBm4a4uiL4dmbzOHGNBc46sQYnFUew6gMNgD6psVtNn7wl00QQ==", "query"=>{"name"=>"Пробная задача", "visibility"=>"2", "role_ids"=>[""], "group_by"=>"", "sort_criteria"=>{"0"=>["", ""], "1"=>["", ""], "2"=>["", ""]}}, "query_is_for_all"=>"1", "default_columns"=>"1", "c"=>["description", "project", "tracker", "status", "priority", "subject", "assigned_to", "updated_on"], "t"=>["estimated_hours", "spent_hours", ""], "f"=>["status_id", "assigned_to_id", "issue_id", "priority_id", "created_on", ""], "op"=>{"status_id"=>"o", "assigned_to_id"=>"=", "issue_id"=>"*", "priority_id"=>"=", "created_on"=>"t"}, "v"=>{"assigned_to_id"=>["me"], "priority_id"=>["1"]}, "commit"=>"Сохранить", "id"=>"1"}
  [1m[35mSQL (93.4ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:10:16.954646' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueQuery Load (0.2ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.3ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (0.3ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.0ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "queries_roles" ON "roles"."id" = "queries_roles"."role_id" WHERE "queries_roles"."query_id" = ?  [["query_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "queries" SET "filters" = ?, "options" = ? WHERE "queries"."id" = ?  [["filters", "---\nstatus_id:\n  :operator: o\n  :values:\n  - ''\nassigned_to_id:\n  :operator: \"=\"\n  :values:\n  - me\nissue_id:\n  :operator: \"*\"\n  :values:\n  - ''\npriority_id:\n  :operator: \"=\"\n  :values:\n  - '1'\ncreated_on:\n  :operator: t\n  :values:\n  - ''\n"], ["options", "---\n:totalable_names:\n- :estimated_hours\n- :spent_hours\n:draw_relations: \n:draw_progress_line: \n"], ["id", 1]]
  [1m[36m (103.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/issues?query_id=1
Completed 302 Found in 229ms (ActiveRecord: 199.8ms)


Started GET "/issues?query_id=1" for 127.0.0.1 at 2017-06-07 11:10:17 +0600
Processing by IssuesController#index as HTML
  Parameters: {"query_id"=>"1"}
  [1m[35mSQL (104.9ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:10:17.198511' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueQuery Load (0.1ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND (project_id IS NULL) AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36mTracker Load (0.2ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.5ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (0.9ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0[0m
  Rendered queries/_filters.html.erb (10.0ms)
  Rendered queries/_columns.html.erb (2.5ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.6ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (4.4ms)
  Rendered issues/index.html.erb within layouts/base (31.8ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 186ms (Views: 38.9ms | ActiveRecord: 109.7ms)


Started GET "/issues?set_filter=1" for 127.0.0.1 at 2017-06-07 11:11:03 +0600
Processing by IssuesController#index as HTML
  Parameters: {"set_filter"=>"1"}
  [1m[36mSQL (73.3ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:03.965275' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.3ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (0.3ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.5ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))[0m
  [1m[35mSQL (0.9ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0
  Rendered queries/_filters.html.erb (4.8ms)
  Rendered queries/_columns.html.erb (2.1ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssueQuery Load (0.4ms)[0m  SELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC
  Rendered issues/_sidebar.html.erb (3.2ms)
  Rendered issues/index.html.erb within layouts/base (21.9ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 139ms (Views: 33.0ms | ActiveRecord: 77.4ms)


Started GET "/issues?set_filter=1" for 127.0.0.1 at 2017-06-07 11:11:19 +0600
Processing by IssuesController#index as HTML
  Parameters: {"set_filter"=>"1"}
  [1m[36mSQL (71.4ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:19.040461' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.2ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.4ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))[0m
  [1m[35mSQL (1.4ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0
  Rendered queries/_filters.html.erb (4.9ms)
  Rendered queries/_columns.html.erb (1.4ms)
  [1m[36mToken Load (0.2ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssueQuery Load (0.2ms)[0m  SELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC
  Rendered issues/_sidebar.html.erb (2.2ms)
  Rendered issues/index.html.erb within layouts/base (18.8ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 132ms (Views: 28.4ms | ActiveRecord: 75.8ms)


Started GET "/issues/new" for 127.0.0.1 at 2017-06-07 11:11:21 +0600
Processing by IssuesController#new as HTML
  [1m[36mSQL (98.3ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:21.881138' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssuePriority Load (0.3ms)[0m  SELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1  [["is_default", "t"]]
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))  ORDER BY "projects"."id" ASC LIMIT 1[0m
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "default_issue_start_date_to_creation_date"]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mWorkflowPermission Load (22.9ms)[0m  SELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" IS NULL AND "workflows"."old_status_id" IS NULL AND "workflows"."role_id" IN (1, 3, 4, 5)
  Rendered common/error.html.erb within layouts/base (0.8ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Filter chain halted as :build_new_issue_from_params rendered or redirected
Completed 403 Forbidden in 223ms (Views: 27.9ms | ActiveRecord: 123.6ms)


Started GET "/issues/new" for 127.0.0.1 at 2017-06-07 11:11:30 +0600
Processing by IssuesController#new as HTML
  [1m[35mSQL (88.3ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:30.505149' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["is_default", "t"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT  "projects".* FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))  ORDER BY "projects"."id" ASC LIMIT 1
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mWorkflowPermission Load (0.4ms)[0m  SELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" IS NULL AND "workflows"."old_status_id" IS NULL AND "workflows"."role_id" IN (1, 3, 4, 5)
  Rendered common/error.html.erb within layouts/base (0.1ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Filter chain halted as :build_new_issue_from_params rendered or redirected
Completed 403 Forbidden in 116ms (Views: 11.1ms | ActiveRecord: 89.9ms)


Started GET "/issues?set_filter=1" for 127.0.0.1 at 2017-06-07 11:11:42 +0600
Processing by IssuesController#index as HTML
  Parameters: {"set_filter"=>"1"}
  [1m[35mSQL (69.0ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:42.105521' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?  [["sharing", "system"]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mMember Exists (0.1ms)[0m  SELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1  [["user_id", 1]]
  [1m[36mTracker Load (0.5ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mIssuePriority Load (0.3ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36mIssueCustomField Load (0.5ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))
  [1m[36mSQL (1.1ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0[0m
  Rendered queries/_filters.html.erb (6.5ms)
  Rendered queries/_columns.html.erb (1.9ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.3ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (3.1ms)
  Rendered issues/index.html.erb within layouts/base (21.5ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 134ms (Views: 29.7ms | ActiveRecord: 73.4ms)


Started GET "/issues?query_id=1" for 127.0.0.1 at 2017-06-07 11:11:45 +0600
Processing by IssuesController#index as HTML
  Parameters: {"query_id"=>"1"}
  [1m[35mSQL (69.0ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:45.895330' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueQuery Load (0.1ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND (project_id IS NULL) AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.4ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36mTracker Load (0.7ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.2ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUserPreference Load (0.2ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999'))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0[0m
  Rendered queries/_filters.html.erb (8.6ms)
  Rendered queries/_columns.html.erb (2.1ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.3ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (3.4ms)
  Rendered issues/index.html.erb within layouts/base (25.5ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 142ms (Views: 34.7ms | ActiveRecord: 73.3ms)


Started GET "/issues/new" for 127.0.0.1 at 2017-06-07 11:11:50 +0600
Processing by IssuesController#new as HTML
  [1m[36mSQL (122.9ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:50.097826' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1  [["is_default", "t"]]
  [1m[36mProject Load (0.4ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))  ORDER BY "projects"."id" ASC LIMIT 1[0m
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mWorkflowPermission Load (0.3ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" IS NULL AND "workflows"."old_status_id" IS NULL AND "workflows"."role_id" IN (1, 3, 4, 5)[0m
  Rendered common/error.html.erb within layouts/base (0.5ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Filter chain halted as :build_new_issue_from_params rendered or redirected
Completed 403 Forbidden in 146ms (Views: 10.0ms | ActiveRecord: 124.3ms)


Started GET "/my/page" for 127.0.0.1 at 2017-06-07 11:11:57 +0600
Processing by MyController#page as HTML
  [1m[36mSQL (62.6ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:57.059688' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "enumerations"."id" AS t4_r0, "enumerations"."name" AS t4_r1, "enumerations"."position" AS t4_r2, "enumerations"."is_default" AS t4_r3, "enumerations"."type" AS t4_r4, "enumerations"."active" AS t4_r5, "enumerations"."project_id" AS t4_r6, "enumerations"."parent_id" AS t4_r7, "enumerations"."position_name" AS t4_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 10[0m
  Rendered issues/_list_simple.html.erb (0.1ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered my/blocks/_issuesassignedtome.html.erb (12.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?[0m  [["author_id", 1]]
  [1m[35mSQL (0.1ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  ORDER BY issues.updated_on DESC LIMIT 10  [["author_id", 1]]
  Rendered issues/_list_simple.html.erb (0.1ms)
  Rendered my/blocks/_issuesreportedbyme.html.erb (5.6ms)
  Rendered my/page.html.erb within layouts/base (20.6ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 101ms (Views: 32.3ms | ActiveRecord: 64.5ms)


Started GET "/issues?assigned_to_id=me&set_filter=1&sort=priority%3Adesc%2Cupdated_on%3Adesc" for 127.0.0.1 at 2017-06-07 11:11:59 +0600
Processing by IssuesController#index as HTML
  Parameters: {"assigned_to_id"=>"me", "set_filter"=>"1", "sort"=>"priority:desc,updated_on:desc"}
  [1m[35mSQL (62.7ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:11:59.726481' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?  [["sharing", "system"]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mMember Exists (0.1ms)[0m  SELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1  [["user_id", 1]]
  [1m[36mTracker Load (0.4ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mIssuePriority Load (0.1ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36mIssueCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')[0m
  [1m[35m (0.2ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')))  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0[0m
  Rendered queries/_filters.html.erb (5.8ms)
  Rendered queries/_columns.html.erb (1.7ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.4ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (3.6ms)
  Rendered issues/index.html.erb within layouts/base (21.0ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 125ms (Views: 29.6ms | ActiveRecord: 66.5ms)


Started GET "/my/page" for 127.0.0.1 at 2017-06-07 11:12:01 +0600
Processing by MyController#page as HTML
  [1m[35mSQL (64.6ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:12:01.503002' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1[0m
  [1m[35mSQL (0.6ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "enumerations"."id" AS t4_r0, "enumerations"."name" AS t4_r1, "enumerations"."position" AS t4_r2, "enumerations"."is_default" AS t4_r3, "enumerations"."type" AS t4_r4, "enumerations"."active" AS t4_r5, "enumerations"."project_id" AS t4_r6, "enumerations"."parent_id" AS t4_r7, "enumerations"."position_name" AS t4_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 10
  Rendered issues/_list_simple.html.erb (0.2ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  Rendered my/blocks/_issuesassignedtome.html.erb (14.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  [["author_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  ORDER BY issues.updated_on DESC LIMIT 10[0m  [["author_id", 1]]
  Rendered issues/_list_simple.html.erb (0.1ms)
  Rendered my/blocks/_issuesreportedbyme.html.erb (7.9ms)
  Rendered my/page.html.erb within layouts/base (26.5ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 105ms (Views: 34.2ms | ActiveRecord: 66.6ms)


Started GET "/" for 127.0.0.1 at 2017-06-07 11:12:02 +0600
Processing by WelcomeController#index as HTML
  [1m[36mSQL (76.1ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:12:02.903061' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mNews Load (0.6ms)[0m  SELECT  "news".* FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news'))  ORDER BY news.created_on DESC LIMIT 5
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "welcome_text"]]
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered welcome/index.html.erb within layouts/base (5.9ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 129ms (Views: 32.0ms | ActiveRecord: 77.8ms)


Started GET "/my/page" for 127.0.0.1 at 2017-06-07 11:12:06 +0600
Processing by MyController#page as HTML
  [1m[36mSQL (79.6ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:12:06.055457' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mUserPreference Load (0.2ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "enumerations"."id" AS t4_r0, "enumerations"."name" AS t4_r1, "enumerations"."position" AS t4_r2, "enumerations"."is_default" AS t4_r3, "enumerations"."type" AS t4_r4, "enumerations"."active" AS t4_r5, "enumerations"."project_id" AS t4_r6, "enumerations"."parent_id" AS t4_r7, "enumerations"."position_name" AS t4_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."assigned_to_id" = 1  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 10[0m
  Rendered issues/_list_simple.html.erb (0.1ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered my/blocks/_issuesassignedtome.html.erb (7.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(DISTINCT "issues"."id") FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?[0m  [["author_id", 1]]
  [1m[35mSQL (0.1ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND "issues"."author_id" = ?  ORDER BY issues.updated_on DESC LIMIT 10  [["author_id", 1]]
  Rendered issues/_list_simple.html.erb (0.1ms)
  Rendered my/blocks/_issuesreportedbyme.html.erb (6.3ms)
  Rendered my/page.html.erb within layouts/base (16.2ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 110ms (Views: 22.8ms | ActiveRecord: 81.2ms)


Started GET "/projects" for 127.0.0.1 at 2017-06-07 11:12:06 +0600
Processing by ProjectsController#index as HTML
  [1m[35mSQL (165.9ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:12:06.824818' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (10.6ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9) AND "projects"."status" = ?  ORDER BY "projects"."lft" ASC[0m  [["status", 1]]
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered projects/index.html.erb within layouts/base (3.7ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 203ms (Views: 19.0ms | ActiveRecord: 177.3ms)


Started GET "/projects/new" for 127.0.0.1 at 2017-06-07 11:12:11 +0600
Processing by ProjectsController#new as HTML
  [1m[36mSQL (65.1ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:12:11.048601' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.3ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (5.6ms)[0m  [1mSELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC[0m
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "sequential_project_identifiers"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "default_projects_public"]]
  [1m[35mSetting Load (0.0ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "default_projects_modules"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "default_projects_tracker_ids"]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.lft >= NULL AND projects.rgt <= NULL)  ORDER BY "projects"."lft" ASC
  [1m[36mVersion Load (0.2ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND versions.sharing = 'system') AND "versions"."status" = ?[0m  [["status", "open"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "text_formatting"]]
  [1m[36mCustomField Load (0.4ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  Rendered projects/_form.html.erb (39.4ms)
  Rendered projects/new.html.erb within layouts/base (50.6ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 178ms (Views: 67.1ms | ActiveRecord: 73.2ms)


Started POST "/projects" for 127.0.0.1 at 2017-06-07 11:13:36 +0600
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2+C2yPGRWS3rs8K4aI6F/BHhQ0yQTekgAiAZXKHCzm/QcJ42VO2CKtVgSqgyjuC5T78K4/cD0vkPBTo3eieRpQ==", "project"=>{"name"=>"создание плагина", "description"=>"Основная функция плагина: отслеживание встроенного в систему события - обновление задачи, а именно, при:\r\n\r\n     обновлении самой задачи (любого из полей)\r\n     добавлении\\удалении или модификации комментария\r\n     добавлении или удалении файла \r\n\r\n...необходимо делать HTTP POST-запрос на адрес указанный в коде плагина.\r\n \r\nФормат POST-запроса: переменная с именем data, в которой содержится JSON, описывающий массив следующих параметров:\r\n\r\n    issueid - идентификатор измененной задачи\r\n    userid - идентификатор пользователя, внесшего изменения в задачу\r\n    datetime - дата и время внесения изменений\r\n\r\nНапример:\r\n{\r\n 'issueid':12345,\r\n 'userid':12345,\r\n 'datetime':'2014-13-12 12:13:14'\r\n}", "identifier"=>"123456", "homepage"=>"", "is_public"=>"1", "inherit_members"=>"0", "enabled_module_names"=>["issue_tracking", "time_tracking", "news", "documents", "files", "wiki", "repository", "boards", "calendar", "gantt", ""], "tracker_ids"=>["1", "2", "3", ""]}, "continue"=>"Создать и продолжить"}
  [1m[35mSQL (178.3ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:13:36.345496' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mTracker Load (0.1ms)[0m  SELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "default_projects_tracker_ids"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.lft >= NULL AND projects.rgt <= NULL)  ORDER BY "projects"."lft" ASC
  [1m[36mTracker Load (0.4ms)[0m  [1mSELECT "trackers".* FROM "trackers" WHERE "trackers"."id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mEnabledModule Exists (21.7ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'issue_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.2ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'time_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'news' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'documents' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'files' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'wiki' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'repository' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'boards' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'calendar' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'gantt' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTracker Exists (0.1ms)[0m  SELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Ошибка' AND "trackers"."id" != 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTracker Exists (0.1ms)[0m  SELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Улучшение' AND "trackers"."id" != 2) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTracker Exists (0.1ms)[0m  SELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Поддержка' AND "trackers"."id" != 3) LIMIT 1
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mProject Exists (0.1ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."identifier" = '123456' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND versions.sharing = 'system') AND "versions"."status" = ?  [["status", "open"]]
  Rendered projects/_form.html.erb (13.8ms)
  Rendered projects/new.html.erb within layouts/base (15.7ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 266ms (Views: 25.2ms | ActiveRecord: 203.5ms)


Started POST "/projects" for 127.0.0.1 at 2017-06-07 11:13:50 +0600
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"u3LH02UTVsnp2q3cbC+Lq0drkNh6EYAAMhQYZDX1lgKw4u8twG+NztcJJcw2L+7uGTXZdx1fu9k/MTsP7hDJyA==", "project"=>{"name"=>"создание плагина", "description"=>"Основная функция плагина: отслеживание встроенного в систему события - обновление задачи, а именно, при:\r\n\r\n     обновлении самой задачи (любого из полей)\r\n     добавлении\\удалении или модификации комментария\r\n     добавлении или удалении файла \r\n\r\n...необходимо делать HTTP POST-запрос на адрес указанный в коде плагина.\r\n \r\nФормат POST-запроса: переменная с именем data, в которой содержится JSON, описывающий массив следующих параметров:\r\n\r\n    issueid - идентификатор измененной задачи\r\n    userid - идентификатор пользователя, внесшего изменения в задачу\r\n    datetime - дата и время внесения изменений\r\n\r\nНапример:\r\n{\r\n 'issueid':12345,\r\n 'userid':12345,\r\n 'datetime':'2014-13-12 12:13:14'\r\n}", "identifier"=>"12", "homepage"=>"", "is_public"=>"1", "inherit_members"=>"0", "enabled_module_names"=>["issue_tracking", "time_tracking", "news", "documents", "files", "wiki", "repository", "boards", "calendar", "gantt", ""], "tracker_ids"=>["1", "2", "3", ""]}, "continue"=>"Создать и продолжить"}
  [1m[36mSQL (189.2ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:13:50.812387' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (0.1ms)[0m  [1mSELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC[0m
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "default_projects_tracker_ids"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status = 1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.lft >= NULL AND projects.rgt <= NULL)  ORDER BY "projects"."lft" ASC[0m
  [1m[35mTracker Load (0.3ms)[0m  SELECT "trackers".* FROM "trackers" WHERE "trackers"."id" IN (1, 2, 3)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'issue_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'time_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'news' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'documents' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.2ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'files' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'wiki' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.3ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'repository' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'boards' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'calendar' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'gantt' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTracker Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Ошибка' AND "trackers"."id" != 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTracker Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Улучшение' AND "trackers"."id" != 2) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTracker Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Поддержка' AND "trackers"."id" != 3) LIMIT 1[0m
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mProject Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "projects" WHERE "projects"."identifier" = '12' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mVersion Load (0.2ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND versions.sharing = 'system') AND "versions"."status" = ?[0m  [["status", "open"]]
  Rendered projects/_form.html.erb (10.3ms)
  Rendered projects/new.html.erb within layouts/base (12.3ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 252ms (Views: 23.8ms | ActiveRecord: 193.5ms)


Started POST "/projects" for 127.0.0.1 at 2017-06-07 11:14:02 +0600
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"y/73+gftT8foRcwAaSRG56HMp4UWBI72QK86PCfltUrAbt8EopGUwNaWRBAzJCOi/5LuKnFKtS9NihlX/ADqgA==", "project"=>{"name"=>"создание плагина", "description"=>"Основная функция плагина: отслеживание встроенного в систему события - обновление задачи, а именно, при:\r\n\r\n     обновлении самой задачи (любого из полей)\r\n     добавлении\\удалении или модификации комментария\r\n     добавлении или удалении файла \r\n\r\n...необходимо делать HTTP POST-запрос на адрес указанный в коде плагина.\r\n \r\nФормат POST-запроса: переменная с именем data, в которой содержится JSON, описывающий массив следующих параметров:\r\n\r\n    issueid - идентификатор измененной задачи\r\n    userid - идентификатор пользователя, внесшего изменения в задачу\r\n    datetime - дата и время внесения изменений\r\n\r\nНапример:\r\n{\r\n 'issueid':12345,\r\n 'userid':12345,\r\n 'datetime':'2014-13-12 12:13:14'\r\n}", "identifier"=>"123456789", "homepage"=>"", "is_public"=>"1", "inherit_members"=>"0", "enabled_module_names"=>["issue_tracking", "time_tracking", "news", "documents", "files", "wiki", "repository", "boards", "calendar", "gantt", ""], "tracker_ids"=>["1", "2", "3", ""]}, "continue"=>"Создать и продолжить"}
  [1m[35mSQL (65.1ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:02.877776' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mTracker Load (0.2ms)[0m  SELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "default_projects_tracker_ids"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status = 1)[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.lft >= NULL AND projects.rgt <= NULL)  ORDER BY "projects"."lft" ASC
  [1m[36mTracker Load (0.3ms)[0m  [1mSELECT "trackers".* FROM "trackers" WHERE "trackers"."id" IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'issue_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'time_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'news' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'documents' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'files' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'wiki' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'repository' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.3ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'boards' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'calendar' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'gantt' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTracker Exists (0.1ms)[0m  SELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Ошибка' AND "trackers"."id" != 1) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTracker Exists (0.1ms)[0m  SELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Улучшение' AND "trackers"."id" != 2) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTracker Exists (0.1ms)[0m  SELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Поддержка' AND "trackers"."id" != 3) LIMIT 1
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mProject Exists (0.1ms)[0m  SELECT  1 AS one FROM "projects" WHERE "projects"."identifier" = '123456789' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND versions.sharing = 'system') AND "versions"."status" = ?  [["status", "open"]]
  Rendered projects/_form.html.erb (8.9ms)
  Rendered projects/new.html.erb within layouts/base (10.4ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 122ms (Views: 21.0ms | ActiveRecord: 69.0ms)


Started POST "/projects" for 127.0.0.1 at 2017-06-07 11:14:23 +0600
Processing by ProjectsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ohrKSL3M1IRKVgOml5rekSsh7V5sW8flzRdMxt05eZCpiuK2GLAPg3SFi7bNmrvUdX+k8QsV/DzAMm+tBtwmWg==", "project"=>{"name"=>"создание плагина", "description"=>"Основная функция плагина: отслеживание встроенного в систему события - обновление задачи, а именно, при:\r\n\r\n     обновлении самой задачи (любого из полей)\r\n     добавлении\\удалении или модификации комментария\r\n     добавлении или удалении файла \r\n\r\n...необходимо делать HTTP POST-запрос на адрес указанный в коде плагина.\r\n \r\nФормат POST-запроса: переменная с именем data, в которой содержится JSON, описывающий массив следующих параметров:\r\n\r\n    issueid - идентификатор измененной задачи\r\n    userid - идентификатор пользователя, внесшего изменения в задачу\r\n    datetime - дата и время внесения изменений\r\n\r\nНапример:\r\n{\r\n 'issueid':12345,\r\n 'userid':12345,\r\n 'datetime':'2014-13-12 12:13:14'\r\n}", "identifier"=>"plugin", "homepage"=>"", "is_public"=>"1", "inherit_members"=>"0", "enabled_module_names"=>["issue_tracking", "time_tracking", "news", "documents", "files", "wiki", "repository", "boards", "calendar", "gantt", ""], "tracker_ids"=>["1", "2", "3", ""]}, "continue"=>"Создать и продолжить"}
  [1m[36mSQL (179.0ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:23.334191' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (0.1ms)[0m  [1mSELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC[0m
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "default_projects_tracker_ids"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status = 1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.lft >= NULL AND projects.rgt <= NULL)  ORDER BY "projects"."lft" ASC[0m
  [1m[35mTracker Load (0.3ms)[0m  SELECT "trackers".* FROM "trackers" WHERE "trackers"."id" IN (1, 2, 3)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mEnabledModule Exists (0.3ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'issue_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'time_tracking' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'news' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'documents' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'files' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'wiki' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.2ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'repository' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'boards' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'calendar' AND "enabled_modules"."project_id" IS NULL) LIMIT 1
  [1m[36mEnabledModule Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'gantt' AND "enabled_modules"."project_id" IS NULL) LIMIT 1[0m
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTracker Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Ошибка' AND "trackers"."id" != 1) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTracker Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Улучшение' AND "trackers"."id" != 2) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTracker Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "trackers" WHERE ("trackers"."name" = 'Поддержка' AND "trackers"."id" != 3) LIMIT 1[0m
  [1m[35mCustomField Load (0.3ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mProject Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "projects" WHERE "projects"."identifier" = 'plugin' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT "projects"."id" FROM "projects"  ORDER BY "projects"."id" ASC 
  [1m[36m (17.9ms)[0m  [1mSELECT MAX("projects"."rgt") FROM "projects" WHERE "projects"."parent_id" IS NULL AND (name < 'создание плагина')[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "projects" SET lft = CASE WHEN lft >= 1 THEN lft + 2 ELSE lft END, rgt = CASE WHEN rgt >= 1 THEN rgt + 2 ELSE rgt END WHERE (lft >= 1 OR rgt >= 1)
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "projects" ("name", "description", "identifier", "created_on", "updated_on", "lft", "rgt") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "создание плагина"], ["description", "Основная функция плагина: отслеживание встроенного в систему события - обновление задачи, а именно, при:\r\n\r\n     обновлении самой задачи (любого из полей)\r\n     добавлении\\удалении или модификации комментария\r\n     добавлении или удалении файла \r\n\r\n...необходимо делать HTTP POST-запрос на адрес указанный в коде плагина.\r\n \r\nФормат POST-запроса: переменная с именем data, в которой содержится JSON, описывающий массив следующих параметров:\r\n\r\n    issueid - идентификатор измененной задачи\r\n    userid - идентификатор пользователя, внесшего изменения в задачу\r\n    datetime - дата и время внесения изменений\r\n\r\nНапример:\r\n{\r\n 'issueid':12345,\r\n 'userid':12345,\r\n 'datetime':'2014-13-12 12:13:14'\r\n}"], ["identifier", "plugin"], ["created_on", "2017-06-07 11:14:23.549222"], ["updated_on", "2017-06-07 11:14:23.549222"], ["lft", 1], ["rgt", 2]]
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'issue_tracking' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "issue_tracking"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'time_tracking' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "time_tracking"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'news' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "news"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.2ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'documents' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "documents"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.2ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'files' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "files"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'wiki' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "wiki"], ["project_id", 1]]
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "wikis" ("project_id", "start_page") VALUES (?, ?)[0m  [["project_id", 1], ["start_page", "Wiki"]]
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'repository' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "repository"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.2ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'boards' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "boards"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.3ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'calendar' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "calendar"], ["project_id", 1]]
  [1m[35mEnabledModule Exists (0.1ms)[0m  SELECT  1 AS one FROM "enabled_modules" WHERE ("enabled_modules"."name" = 'gantt' AND "enabled_modules"."project_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "enabled_modules" ("name", "project_id") VALUES (?, ?)[0m  [["name", "gantt"], ["project_id", 1]]
  [1m[35mSQL (10.6ms)[0m  INSERT INTO "projects_trackers" ("project_id", "tracker_id") VALUES (?, ?)  [["project_id", 1], ["tracker_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "projects_trackers" ("project_id", "tracker_id") VALUES (?, ?)[0m  [["project_id", 1], ["tracker_id", 2]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "projects_trackers" ("project_id", "tracker_id") VALUES (?, ?)  [["project_id", 1], ["tracker_id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mSELECT "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_id" = ? AND "custom_values"."customized_type" = ?  ORDER BY custom_fields.position[0m  [["customized_id", 1], ["customized_type", "Project"]]
  [1m[35m (73.1ms)[0m  commit transaction
Redirected to http://localhost:3000/projects/new
Completed 302 Found in 400ms (ActiveRecord: 289.7ms)


Started GET "/projects/new" for 127.0.0.1 at 2017-06-07 11:14:23 +0600
Processing by ProjectsController#new as HTML
  [1m[36mSQL (65.7ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:23.744265' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mIssueCustomField Load (0.3ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (0.2ms)[0m  [1mSELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC[0m
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "default_projects_tracker_ids"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status = 1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.lft >= NULL AND projects.rgt <= NULL)  ORDER BY "projects"."lft" ASC[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND versions.sharing = 'system') AND "versions"."status" = ?  [["status", "open"]]
  [1m[36mCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  Rendered projects/_form.html.erb (19.9ms)
  Rendered projects/new.html.erb within layouts/base (21.1ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 113ms (Views: 32.9ms | ActiveRecord: 67.7ms)


Started GET "/projects" for 127.0.0.1 at 2017-06-07 11:14:28 +0600
Processing by ProjectsController#index as HTML
  [1m[35mSQL (151.3ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:28.325478' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9) AND "projects"."status" = ?  ORDER BY "projects"."lft" ASC[0m  [["status", 1]]
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9)[0m  [["user_id", 1]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "cache_formatted_text"]]
  Rendered projects/index.html.erb within layouts/base (8.6ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 174ms (Views: 16.1ms | ActiveRecord: 152.2ms)


Started GET "/projects/plugin" for 127.0.0.1 at 2017-06-07 11:14:41 +0600
Processing by ProjectsController#show as HTML
  Parameters: {"id"=>"plugin"}
  [1m[36mSQL (65.0ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:41.445112' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.2ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mMember Load (4.8ms)[0m  SELECT "members".* FROM "members" INNER JOIN "users" ON "users"."id" = "members"."user_id" WHERE "members"."project_id" = ? AND "users"."type" = ? AND "users"."status" = ?  [["project_id", 1], ["type", "User"], ["status", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."parent_id" = ? AND (projects.status <> 9)  ORDER BY "projects"."lft" ASC[0m  [["parent_id", 1]]
  [1m[35mNews Load (0.4ms)[0m  SELECT  "news".* FROM "news" WHERE "news"."project_id" = ?  ORDER BY news.created_on DESC LIMIT 5  [["project_id", 1]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "display_subprojects_issues"]]
  [1m[35m (4.7ms)[0m  SELECT COUNT(*) AS count_all, "issues"."tracker_id" AS issues_tracker_id FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) GROUP BY "issues"."tracker_id"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) AS count_all, "issues"."tracker_id" AS issues_tracker_id FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) GROUP BY "issues"."tracker_id"[0m
  [1m[35m (0.2ms)[0m  SELECT SUM("time_entries"."hours") FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2)))
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (0.4ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  Rendered projects/_members_box.html.erb (0.5ms)
  Rendered projects/_sidebar.html.erb (1.0ms)
  Rendered projects/show.html.erb within layouts/base (22.2ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (7.9ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.3ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 203ms (Views: 93.3ms | ActiveRecord: 86.5ms)


Started GET "/projects/plugin/issues" for 127.0.0.1 at 2017-06-07 11:14:50 +0600
Processing by IssuesController#index as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[35mSQL (126.5ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:50.829133' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.1ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mPrincipal Load (0.5ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.3ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.2ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.3ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mTracker Load (0.8ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36mIssueCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)
  [1m[36mSQL (0.7ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (5.9ms)
  Rendered queries/_columns.html.erb (2.1ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.3ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (2.3ms)
  Rendered issues/index.html.erb within layouts/base (21.6ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 209ms (Views: 39.2ms | ActiveRecord: 133.0ms)


Started GET "/projects/plugin/issues?utf8=%E2%9C%93&set_filter=1&f%5B%5D=status_id&op%5Bstatus_id%5D=o&f%5B%5D=&c%5B%5D=tracker&c%5B%5D=status&c%5B%5D=priority&c%5B%5D=subject&c%5B%5D=assigned_to&c%5B%5D=updated_on&group_by=&t%5B%5D=" for 127.0.0.1 at 2017-06-07 11:14:55 +0600
Processing by IssuesController#index as HTML
  Parameters: {"utf8"=>"✓", "set_filter"=>"1", "f"=>["status_id", ""], "op"=>{"status_id"=>"o"}, "c"=>["tracker", "status", "priority", "subject", "assigned_to", "updated_on"], "group_by"=>"", "t"=>[""], "project_id"=>"plugin"}
  [1m[36mSQL (62.6ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:55.215842' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mPrincipal Load (0.1ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mVersion Load (0.3ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mIssueCategory Load (0.1ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mTracker Load (0.3ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.3ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mIssueCustomField Load (0.6ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mProject Load (0.5ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  Rendered queries/_filters.html.erb (6.9ms)
  Rendered queries/_columns.html.erb (1.6ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssueQuery Load (0.4ms)[0m  SELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC
  Rendered issues/_sidebar.html.erb (2.6ms)
  Rendered issues/index.html.erb within layouts/base (21.4ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.2ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 138ms (Views: 40.7ms | ActiveRecord: 68.1ms)


Started GET "/projects/plugin/issues?set_filter=1" for 127.0.0.1 at 2017-06-07 11:14:57 +0600
Processing by IssuesController#index as HTML
  Parameters: {"set_filter"=>"1", "project_id"=>"plugin"}
  [1m[35mSQL (56.3ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:14:57.489174' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.2ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.3ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.1ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.3ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mTracker Load (0.9ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_filter", "t"]]
  [1m[35mCustomField Load (0.0ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36mIssueCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)
  [1m[36mSQL (0.9ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (5.6ms)
  Rendered queries/_columns.html.erb (1.2ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.3ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (2.6ms)
  Rendered issues/index.html.erb within layouts/base (19.2ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mWiki Load (0.2ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 139ms (Views: 51.5ms | ActiveRecord: 61.6ms)


Started GET "/projects/plugin/issues/new" for 127.0.0.1 at 2017-06-07 11:15:00 +0600
Processing by IssuesController#new as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[36mSQL (77.7ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:15:00.445665' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mIssuePriority Load (0.3ms)[0m  SELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1  [["is_default", "t"]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (0.3ms)[0m  SELECT  "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  ORDER BY "trackers"."position" ASC LIMIT 1  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mIssueStatus Load (0.3ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5) AND (author = 't' OR assignee = 'f')[0m  [["old_status_id", 0], ["tracker_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mWorkflowPermission Load (0.2ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5) AND (author = 't' OR assignee = 'f')[0m  [["old_status_id", 0], ["tracker_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mTracker Load (0.3ms)[0m  SELECT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  ORDER BY "trackers"."position" ASC  [["project_id", 1]]
  [1m[36mIssuePriority Load (0.3ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC[0m  [["active", "t"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."assignable" = ?  [["assignable", "t"]]
  [1m[36mPrincipal Load (13.9ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" INNER JOIN "member_roles" ON "member_roles"."member_id" = "members"."id" INNER JOIN "roles" ON "roles"."id" = "member_roles"."role_id" WHERE "users"."status" = ? AND "members"."project_id" = ? AND "users"."type" = 'User' AND "roles"."assignable" = 't' AND "roles"."id" IN (1, 2, 3, 4, 5)  ORDER BY users.type DESC, users.firstname, users.lastname, users.id[0m  [["status", 1], ["project_id", 1]]
  [1m[35mIssueCategory Exists (0.4ms)[0m  SELECT  1 AS one FROM "issue_categories" WHERE "issue_categories"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mVersion Load (0.3ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy')))) AND "versions"."status" = ?[0m  [["status", "open"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "cross_project_subtasks"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "issue_done_ratio"]]
  [1m[35mIssueCustomField Load (0.4ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mIssueCustomField Load (0.5ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" INNER JOIN "custom_fields_trackers" ON "custom_fields"."id" = "custom_fields_trackers"."custom_field_id" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields_trackers"."tracker_id" = ?[0m  [["tracker_id", 1]]
  Rendered issues/_form_custom_fields.html.erb (10.4ms)
  Rendered issues/_attributes.html.erb (69.5ms)
  Rendered issues/_form.html.erb (85.0ms)
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "attachment_max_size"]]
  Rendered attachments/_form.html.erb (24.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT DISTINCT COUNT(DISTINCT "users"."id") FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  Rendered issues/new.html.erb within layouts/base (129.6ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 283ms (Views: 144.8ms | ActiveRecord: 98.0ms)


Started POST "/issues/preview/new/plugin" for 127.0.0.1 at 2017-06-07 11:15:55 +0600
Processing by PreviewsController#issue as */*
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"C9r1WY3ToydWpo5EX21S1wRnuWRBzRhyTugf53qi/QMASt2nKK94IGh1BlQFbTeSWjnwyyaDI6tDzTyMoUeiyQ==", "form_update_triggered_by"=>"", "issue"=>{"is_private"=>"0", "tracker_id"=>"1", "subject"=>"тестовая задача", "description"=>"Просто тестовая задача", "status_id"=>"1", "priority_id"=>"2", "assigned_to_id"=>"1", "parent_issue_id"=>"", "start_date"=>"2017-06-07", "due_date"=>"", "estimated_hours"=>"", "done_ratio"=>"0"}, "was_default_status"=>"1", "project_id"=>"plugin"}
  [1m[35mSQL (82.1ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:15:55.447328' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  Rendered previews/issue.html.erb (2.2ms)
Completed 200 OK in 100ms (Views: 14.4ms | ActiveRecord: 82.4ms)


Started POST "/projects/plugin/issues" for 127.0.0.1 at 2017-06-07 11:15:58 +0600
Processing by IssuesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"C9r1WY3ToydWpo5EX21S1wRnuWRBzRhyTugf53qi/QMASt2nKK94IGh1BlQFbTeSWjnwyyaDI6tDzTyMoUeiyQ==", "form_update_triggered_by"=>"", "issue"=>{"is_private"=>"0", "tracker_id"=>"1", "subject"=>"тестовая задача", "description"=>"Просто тестовая задача", "status_id"=>"1", "priority_id"=>"2", "assigned_to_id"=>"1", "parent_issue_id"=>"", "start_date"=>"2017-06-07", "due_date"=>"", "estimated_hours"=>"", "done_ratio"=>"0"}, "was_default_status"=>"1", "commit"=>"Создать", "project_id"=>"plugin"}
  [1m[35mSQL (165.3ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:15:58.971370' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.1ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["is_default", "t"]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mWorkflowPermission Load (0.6ms)[0m  SELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" IS NULL AND "workflows"."old_status_id" IS NULL AND "workflows"."role_id" IN (1, 3, 4, 5)
  [1m[36mTracker Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ? AND "trackers"."id" = ? LIMIT 1[0m  [["project_id", 1], ["id", 1]]
  [1m[35mTracker Load (0.2ms)[0m  SELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5) AND (author = 't' OR assignee = 'f')[0m  [["old_status_id", 0], ["tracker_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mWorkflowPermission Load (0.1ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."assignable" = ?  [["assignable", "t"]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" INNER JOIN "member_roles" ON "member_roles"."member_id" = "members"."id" INNER JOIN "roles" ON "roles"."id" = "member_roles"."role_id" WHERE "users"."status" = ? AND "members"."project_id" = ? AND "users"."type" = 'User' AND "roles"."assignable" = 't' AND "roles"."id" IN (1, 2, 3, 4, 5)  ORDER BY users.type DESC, users.firstname, users.lastname, users.id[0m  [["status", 1], ["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5) AND (author = 't' OR assignee = 'f')[0m  [["old_status_id", 0], ["tracker_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[36mIssueCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" INNER JOIN "custom_fields_trackers" ON "custom_fields"."id" = "custom_fields_trackers"."custom_field_id" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields_trackers"."tracker_id" = ?  [["tracker_id", 1]]
  [1m[36mIssuePriority Load (0.1ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."id" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  1 AS one FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ? AND "trackers"."id" = ? LIMIT 1  [["project_id", 1], ["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[36mPrincipal Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (22.2ms)[0m  INSERT INTO "issues" ("project_id", "author_id", "start_date", "tracker_id", "status_id", "assigned_to_id", "subject", "description", "priority_id", "updated_on", "created_on", "lock_version") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["project_id", 1], ["author_id", 1], ["start_date", "2017-06-07"], ["tracker_id", 1], ["status_id", 1], ["assigned_to_id", 1], ["subject", "тестовая задача"], ["description", "Просто тестовая задача"], ["priority_id", 2], ["updated_on", "2017-06-07 11:15:59.184027"], ["created_on", "2017-06-07 11:15:59.184027"], ["lock_version", 0]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "issues" SET "root_id" = 1, "lft" = 1, "rgt" = 2 WHERE "issues"."id" = ?[0m  [["id", 1]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "notified_events"]]
  [1m[36mMember Load (0.1ms)[0m  [1mSELECT "members".* FROM "members" INNER JOIN "users" ON "users"."id" = "members"."user_id" WHERE "members"."project_id" = ? AND "users"."type" = ? AND "users"."status" = ?[0m  [["project_id", 1], ["type", "User"], ["status", 1]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" INNER JOIN "watchers" ON "users"."id" = "watchers"."user_id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "watchers"."watchable_id" = ? AND "watchers"."watchable_type" = ? AND "users"."status" = ?  [["watchable_id", 1], ["watchable_type", "Issue"], ["status", 1]]
  [1m[36mSetting Load (1.0ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "default_language"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "protocol"]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "host_name"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "mail_from"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "email_addresses"."address" FROM "email_addresses" WHERE "email_addresses"."user_id" = 1 AND (is_default = 't' OR notify = 't')[0m
  [1m[35m (0.1ms)[0m  SELECT "email_addresses"."address" FROM "email_addresses" WHERE "email_addresses"."user_id" = ?  [["user_id", 1]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "bcc_recipients"]]
  [1m[35mAttachment Exists (0.3ms)[0m  SELECT  1 AS one FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ? LIMIT 1  [["container_id", 1], ["container_type", "Issue"]]
  Rendered mailer/_issue.text.erb (18.6ms)
  Rendered mailer/issue_add.text.erb within layouts/mailer (28.5ms)
  [1m[36mSetting Load (0.0ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "emails_header"]]
  [1m[35mSetting Load (0.0ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "emails_footer"]]
  [1m[36mSetting Load (0.0ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "plain_text_mail"]]
  [1m[35mAttachment Load (0.2ms)[0m  SELECT "attachments".* FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ?  ORDER BY attachments.created_on ASC, attachments.id ASC  [["container_id", 1], ["container_type", "Issue"]]
  Rendered mailer/_issue.html.erb (1.8ms)
  Rendered mailer/issue_add.html.erb within layouts/mailer (2.9ms)

Mailer#issue_add: processed outbound mail in 341.4ms
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_id" = ? AND "custom_values"."customized_type" = ?  ORDER BY custom_fields.position[0m  [["customized_id", 1], ["customized_type", "Issue"]]
  [1m[35mIssueRelation Load (17.9ms)[0m  SELECT "issue_relations".* FROM "issue_relations" WHERE "issue_relations"."issue_from_id" = ?  [["issue_from_id", 1]]
  [1m[36m (73.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/issues/1
Completed 302 Found in 784ms (ActiveRecord: 287.3ms)


Started GET "/issues/1" for 127.0.0.1 at 2017-06-07 11:15:59 +0600
Processing by IssuesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (63.1ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:15:59.766641' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssue Load (0.2ms)[0m  [1mSELECT  "issues".* FROM "issues" WHERE "issues"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mSQL (0.3ms)[0m  SELECT "journals"."id" AS t0_r0, "journals"."journalized_id" AS t0_r1, "journals"."journalized_type" AS t0_r2, "journals"."user_id" AS t0_r3, "journals"."notes" AS t0_r4, "journals"."created_on" AS t0_r5, "journals"."private_notes" AS t0_r6, "users"."id" AS t1_r0, "users"."login" AS t1_r1, "users"."hashed_password" AS t1_r2, "users"."firstname" AS t1_r3, "users"."lastname" AS t1_r4, "users"."admin" AS t1_r5, "users"."status" AS t1_r6, "users"."last_login_on" AS t1_r7, "users"."language" AS t1_r8, "users"."auth_source_id" AS t1_r9, "users"."created_on" AS t1_r10, "users"."updated_on" AS t1_r11, "users"."type" AS t1_r12, "users"."identity_url" AS t1_r13, "users"."mail_notification" AS t1_r14, "users"."salt" AS t1_r15, "users"."must_change_passwd" AS t1_r16, "users"."passwd_changed_on" AS t1_r17, "journal_details"."id" AS t2_r0, "journal_details"."journal_id" AS t2_r1, "journal_details"."property" AS t2_r2, "journal_details"."prop_key" AS t2_r3, "journal_details"."old_value" AS t2_r4, "journal_details"."value" AS t2_r5 FROM "journals" LEFT OUTER JOIN "users" ON "users"."id" = "journals"."user_id" AND "users"."type" IN ('User', 'AnonymousUser') LEFT OUTER JOIN "journal_details" ON "journal_details"."journal_id" = "journals"."id" WHERE "journals"."journalized_id" = ? AND "journals"."journalized_type" = ?  ORDER BY "journals"."created_on" ASC, "journals"."id" ASC  [["journalized_id", 1], ["journalized_type", "Issue"]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mChangeset Load (0.4ms)[0m  SELECT "changesets".* FROM "changesets" INNER JOIN "repositories" ON "repositories"."id" = "changesets"."repository_id" INNER JOIN "projects" ON "projects"."id" = "repositories"."project_id" INNER JOIN "changesets_issues" ON "changesets"."id" = "changesets_issues"."changeset_id" WHERE "changesets_issues"."issue_id" = ? AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='repository'))  ORDER BY changesets.committed_on ASC, changesets.id ASC  [["issue_id", 1]]
  [1m[36mIssueRelation Load (0.0ms)[0m  [1mSELECT "issue_relations".* FROM "issue_relations" WHERE "issue_relations"."issue_from_id" = ?[0m  [["issue_from_id", 1]]
  [1m[35mIssueRelation Load (15.7ms)[0m  SELECT "issue_relations".* FROM "issue_relations" WHERE "issue_relations"."issue_to_id" = ?  [["issue_to_id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mTracker Load (0.1ms)[0m  [1mSELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssueStatus Load (0.8ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5)[0m  [["old_status_id", 1], ["tracker_id", 1]]
  [1m[35mTimeEntryActivity Load (0.2ms)[0m  SELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1  [["is_default", "t"]]
  [1m[36m (0.3ms)[0m  [1mSELECT SUM("time_entries"."hours") AS sum_hours, "time_entries"."issue_id" AS time_entries_issue_id FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND "time_entries"."issue_id" = 1 GROUP BY "time_entries"."issue_id"[0m
  [1m[35m (0.4ms)[0m  SELECT SUM("time_entries"."hours") AS sum_hours, parent.id AS parent_id FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" INNER JOIN "issues" ON "issues"."id" = "time_entries"."issue_id" JOIN issues parent ON parent.root_id = issues.root_id AND parent.lft <= issues.lft AND parent.rgt >= issues.rgt WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND (parent.id IN (1)) GROUP BY parent.id
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.3ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.4ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.1ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.0ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35m (0.7ms)[0m  SELECT  "issues"."id" FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 501
  [1m[36mWatcher Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 1 LIMIT 1[0m  [["watchable_type", "Issue"], ["user_id", 1]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))
  Rendered issues/_action_menu.html.erb (6.3ms)
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."id" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mGroup Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "time_format"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "date_format"]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy')))) AND "versions"."status" = ?[0m  [["status", "open"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" INNER JOIN "custom_fields_trackers" ON "custom_fields"."id" = "custom_fields_trackers"."custom_field_id" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields_trackers"."tracker_id" = ?[0m  [["tracker_id", 1]]
  [1m[35mAttachment Load (0.1ms)[0m  SELECT "attachments".* FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ?  ORDER BY attachments.created_on ASC, attachments.id ASC  [["container_id", 1], ["container_type", "Issue"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "attachments".* FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ?  ORDER BY attachments.created_on ASC, attachments.id ASC[0m  [["container_id", 1], ["container_type", "Issue"]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "cross_project_issue_relations"]]
  Rendered issue_relations/_form.html.erb (4.1ms)
  Rendered issues/_relations.html.erb (15.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 1 LIMIT 1[0m  [["watchable_type", "Issue"], ["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))
  Rendered issues/_action_menu.html.erb (2.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mWorkflowPermission Load (0.1ms)[0m  SELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE ((projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) OR projects.id = 1) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))[0m
  [1m[35mTracker Load (0.2ms)[0m  SELECT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  ORDER BY "trackers"."position" ASC  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC  [["active", "t"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."assignable" = ?[0m  [["assignable", "t"]]
  [1m[35mPrincipal Load (0.1ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" INNER JOIN "member_roles" ON "member_roles"."member_id" = "members"."id" INNER JOIN "roles" ON "roles"."id" = "member_roles"."role_id" WHERE "users"."status" = ? AND "members"."project_id" = ? AND "users"."type" = 'User' AND "roles"."assignable" = 't' AND "roles"."id" IN (1, 2, 3, 4, 5)  ORDER BY users.type DESC, users.firstname, users.lastname, users.id  [["status", 1], ["project_id", 1]]
  Rendered issues/_form_custom_fields.html.erb (0.0ms)
  Rendered issues/_attributes.html.erb (9.8ms)
  Rendered issues/_form.html.erb (19.0ms)
  [1m[36m (13.0ms)[0m  [1mSELECT "enumerations"."parent_id" FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND "enumerations"."project_id" = ?  ORDER BY "enumerations"."position" ASC[0m  [["project_id", 1]]
  [1m[35mTimeEntryActivity Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND (enumerations.project_id IS NULL OR enumerations.project_id = 1) AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC  [["active", "t"]]
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'TimeEntryCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  Rendered attachments/_form.html.erb (2.1ms)
  [1m[35m (0.2ms)[0m  SELECT MAX("journals"."id") FROM "journals" WHERE "journals"."journalized_id" = ? AND "journals"."journalized_type" = ?  [["journalized_id", 1], ["journalized_type", "Issue"]]
  Rendered issues/_edit.html.erb (66.3ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssueQuery Load (0.3ms)[0m  SELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC
  Rendered issues/_sidebar.html.erb (2.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users" INNER JOIN "watchers" ON "users"."id" = "watchers"."user_id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "watchers"."watchable_id" = ? AND "watchers"."watchable_type" = ?[0m  [["watchable_id", 1], ["watchable_type", "Issue"]]
  Rendered watchers/_watchers.html.erb (3.7ms)
  Rendered issues/show.html.erb within layouts/base (138.1ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mWiki Load (0.3ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 356ms (Views: 152.0ms | ActiveRecord: 103.8ms)


Started GET "/projects/plugin/issues" for 127.0.0.1 at 2017-06-07 11:16:37 +0600
Processing by IssuesController#index as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[36mSQL (75.4ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:16:37.645921' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (0.4ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mPrincipal Load (0.1ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mVersion Load (0.2ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mIssueCategory Load (0.1ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mIssuePriority Load (0.1ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)[0m
  [1m[35mSQL (0.7ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (7.9ms)
  Rendered queries/_columns.html.erb (2.2ms)
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered issues/_list.html.erb (7.4ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.3ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (4.1ms)
  Rendered issues/index.html.erb within layouts/base (42.9ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 176ms (Views: 57.1ms | ActiveRecord: 80.4ms)


Started GET "/issues/1" for 127.0.0.1 at 2017-06-07 11:16:51 +0600
Processing by IssuesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (72.2ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:16:51.127749' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssue Load (0.1ms)[0m  [1mSELECT  "issues".* FROM "issues" WHERE "issues"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mSQL (0.1ms)[0m  SELECT "journals"."id" AS t0_r0, "journals"."journalized_id" AS t0_r1, "journals"."journalized_type" AS t0_r2, "journals"."user_id" AS t0_r3, "journals"."notes" AS t0_r4, "journals"."created_on" AS t0_r5, "journals"."private_notes" AS t0_r6, "users"."id" AS t1_r0, "users"."login" AS t1_r1, "users"."hashed_password" AS t1_r2, "users"."firstname" AS t1_r3, "users"."lastname" AS t1_r4, "users"."admin" AS t1_r5, "users"."status" AS t1_r6, "users"."last_login_on" AS t1_r7, "users"."language" AS t1_r8, "users"."auth_source_id" AS t1_r9, "users"."created_on" AS t1_r10, "users"."updated_on" AS t1_r11, "users"."type" AS t1_r12, "users"."identity_url" AS t1_r13, "users"."mail_notification" AS t1_r14, "users"."salt" AS t1_r15, "users"."must_change_passwd" AS t1_r16, "users"."passwd_changed_on" AS t1_r17, "journal_details"."id" AS t2_r0, "journal_details"."journal_id" AS t2_r1, "journal_details"."property" AS t2_r2, "journal_details"."prop_key" AS t2_r3, "journal_details"."old_value" AS t2_r4, "journal_details"."value" AS t2_r5 FROM "journals" LEFT OUTER JOIN "users" ON "users"."id" = "journals"."user_id" AND "users"."type" IN ('User', 'AnonymousUser') LEFT OUTER JOIN "journal_details" ON "journal_details"."journal_id" = "journals"."id" WHERE "journals"."journalized_id" = ? AND "journals"."journalized_type" = ?  ORDER BY "journals"."created_on" ASC, "journals"."id" ASC  [["journalized_id", 1], ["journalized_type", "Issue"]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mChangeset Load (0.1ms)[0m  SELECT "changesets".* FROM "changesets" INNER JOIN "repositories" ON "repositories"."id" = "changesets"."repository_id" INNER JOIN "projects" ON "projects"."id" = "repositories"."project_id" INNER JOIN "changesets_issues" ON "changesets"."id" = "changesets_issues"."changeset_id" WHERE "changesets_issues"."issue_id" = ? AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='repository'))  ORDER BY changesets.committed_on ASC, changesets.id ASC  [["issue_id", 1]]
  [1m[36mIssueRelation Load (0.0ms)[0m  [1mSELECT "issue_relations".* FROM "issue_relations" WHERE "issue_relations"."issue_from_id" = ?[0m  [["issue_from_id", 1]]
  [1m[35mIssueRelation Load (0.0ms)[0m  SELECT "issue_relations".* FROM "issue_relations" WHERE "issue_relations"."issue_to_id" = ?  [["issue_to_id", 1]]
  [1m[36mIssueStatus Load (0.0ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mTracker Load (0.0ms)[0m  [1mSELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5)[0m  [["old_status_id", 1], ["tracker_id", 1]]
  [1m[35mTimeEntryActivity Load (0.2ms)[0m  SELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1  [["is_default", "t"]]
  [1m[36m (0.4ms)[0m  [1mSELECT SUM("time_entries"."hours") AS sum_hours, "time_entries"."issue_id" AS time_entries_issue_id FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND "time_entries"."issue_id" = 1 GROUP BY "time_entries"."issue_id"[0m
  [1m[35m (0.4ms)[0m  SELECT SUM("time_entries"."hours") AS sum_hours, parent.id AS parent_id FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" INNER JOIN "issues" ON "issues"."id" = "time_entries"."issue_id" JOIN issues parent ON parent.root_id = issues.root_id AND parent.lft <= issues.lft AND parent.rgt >= issues.rgt WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND (parent.id IN (1)) GROUP BY parent.id
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.3ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.3ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.2ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.2ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35m (0.3ms)[0m  SELECT  "issues"."id" FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 501
  [1m[36mWatcher Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 1 LIMIT 1[0m  [["watchable_type", "Issue"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))
  Rendered issues/_action_menu.html.erb (2.7ms)
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."id" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mGroup Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy')))) AND "versions"."status" = ?[0m  [["status", "open"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" INNER JOIN "custom_fields_trackers" ON "custom_fields"."id" = "custom_fields_trackers"."custom_field_id" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields_trackers"."tracker_id" = ?[0m  [["tracker_id", 1]]
  [1m[35mAttachment Load (0.1ms)[0m  SELECT "attachments".* FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ?  ORDER BY attachments.created_on ASC, attachments.id ASC  [["container_id", 1], ["container_type", "Issue"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "attachments".* FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ?  ORDER BY attachments.created_on ASC, attachments.id ASC[0m  [["container_id", 1], ["container_type", "Issue"]]
  Rendered issue_relations/_form.html.erb (1.1ms)
  Rendered issues/_relations.html.erb (2.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 1 LIMIT 1  [["watchable_type", "Issue"], ["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))[0m
  Rendered issues/_action_menu.html.erb (2.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mWorkflowPermission Load (0.2ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE ((projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) OR projects.id = 1) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))
  [1m[36mTracker Load (0.2ms)[0m  [1mSELECT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  ORDER BY "trackers"."position" ASC[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssuePriority Load (0.1ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC[0m  [["active", "t"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."assignable" = ?  [["assignable", "t"]]
  [1m[36mPrincipal Load (0.2ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" INNER JOIN "member_roles" ON "member_roles"."member_id" = "members"."id" INNER JOIN "roles" ON "roles"."id" = "member_roles"."role_id" WHERE "users"."status" = ? AND "members"."project_id" = ? AND "users"."type" = 'User' AND "roles"."assignable" = 't' AND "roles"."id" IN (1, 2, 3, 4, 5)  ORDER BY users.type DESC, users.firstname, users.lastname, users.id[0m  [["status", 1], ["project_id", 1]]
  Rendered issues/_form_custom_fields.html.erb (0.1ms)
  Rendered issues/_attributes.html.erb (9.1ms)
  Rendered issues/_form.html.erb (18.9ms)
  [1m[35m (0.1ms)[0m  SELECT "enumerations"."parent_id" FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND "enumerations"."project_id" = ?  ORDER BY "enumerations"."position" ASC  [["project_id", 1]]
  [1m[36mTimeEntryActivity Load (0.1ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND (enumerations.project_id IS NULL OR enumerations.project_id = 1) AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC[0m  [["active", "t"]]
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'TimeEntryCustomField')  ORDER BY "custom_fields"."position" ASC
  Rendered attachments/_form.html.erb (1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("journals"."id") FROM "journals" WHERE "journals"."journalized_id" = ? AND "journals"."journalized_type" = ?[0m  [["journalized_id", 1], ["journalized_type", "Issue"]]
  Rendered issues/_edit.html.erb (29.0ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.5ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (3.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "watchers" ON "users"."id" = "watchers"."user_id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "watchers"."watchable_id" = ? AND "watchers"."watchable_type" = ?  [["watchable_id", 1], ["watchable_type", "Issue"]]
  Rendered watchers/_watchers.html.erb (3.7ms)
  Rendered issues/show.html.erb within layouts/base (63.6ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 198ms (Views: 77.8ms | ActiveRecord: 81.2ms)


Started GET "/projects/plugin/issues/new?issue%5Bparent_issue_id%5D=1&issue%5Btracker_id%5D=1" for 127.0.0.1 at 2017-06-07 11:16:56 +0600
Processing by IssuesController#new as HTML
  Parameters: {"issue"=>{"parent_issue_id"=>"1", "tracker_id"=>"1"}, "project_id"=>"plugin"}
  [1m[35mSQL (85.1ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:16:56.415101' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.1ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mIssuePriority Load (0.1ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["is_default", "t"]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles"[0m
  [1m[35mWorkflowPermission Load (0.2ms)[0m  SELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" IS NULL AND "workflows"."old_status_id" IS NULL AND "workflows"."role_id" IN (1, 3, 4, 5)
  [1m[36mTracker Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ? AND "trackers"."id" = ? LIMIT 1[0m  [["project_id", 1], ["id", 1]]
  [1m[35mTracker Load (0.1ms)[0m  SELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5) AND (author = 't' OR assignee = 'f')[0m  [["old_status_id", 0], ["tracker_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mWorkflowPermission Load (0.1ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mIssue Exists (0.2ms)[0m  SELECT  1 AS one FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "issues"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssue Load (0.1ms)[0m  [1mSELECT  "issues".* FROM "issues" WHERE "issues"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5) AND (author = 't' OR assignee = 'f')[0m  [["old_status_id", 0], ["tracker_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mTracker Load (0.1ms)[0m  SELECT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  ORDER BY "trackers"."position" ASC  [["project_id", 1]]
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC[0m  [["active", "t"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."assignable" = ?  [["assignable", "t"]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" INNER JOIN "member_roles" ON "member_roles"."member_id" = "members"."id" INNER JOIN "roles" ON "roles"."id" = "member_roles"."role_id" WHERE "users"."status" = ? AND "members"."project_id" = ? AND "users"."type" = 'User' AND "roles"."assignable" = 't' AND "roles"."id" IN (1, 2, 3, 4, 5)  ORDER BY users.type DESC, users.firstname, users.lastname, users.id[0m  [["status", 1], ["project_id", 1]]
  [1m[35mIssueCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "issue_categories" WHERE "issue_categories"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy')))) AND "versions"."status" = ?[0m  [["status", "open"]]
  [1m[35mIssueCustomField Load (0.4ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" INNER JOIN "custom_fields_trackers" ON "custom_fields"."id" = "custom_fields_trackers"."custom_field_id" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields_trackers"."tracker_id" = ?[0m  [["tracker_id", 1]]
  Rendered issues/_form_custom_fields.html.erb (3.0ms)
  Rendered issues/_attributes.html.erb (12.6ms)
  Rendered issues/_form.html.erb (19.2ms)
  Rendered attachments/_form.html.erb (2.9ms)
  [1m[35m (0.1ms)[0m  SELECT DISTINCT COUNT(DISTINCT "users"."id") FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  Rendered issues/new.html.erb within layouts/base (29.2ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 154ms (Views: 44.7ms | ActiveRecord: 88.9ms)


Started GET "/projects/plugin/news" for 127.0.0.1 at 2017-06-07 11:17:06 +0600
Processing by NewsController#index as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[36mSQL (64.7ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:07.002585' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.3ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.2ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" WHERE "news"."project_id" = ? AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news'))  [["project_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mSELECT  "news"."id" AS t0_r0, "news"."project_id" AS t0_r1, "news"."title" AS t0_r2, "news"."summary" AS t0_r3, "news"."description" AS t0_r4, "news"."author_id" AS t0_r5, "news"."created_on" AS t0_r6, "news"."comments_count" AS t0_r7, "users"."id" AS t1_r0, "users"."login" AS t1_r1, "users"."hashed_password" AS t1_r2, "users"."firstname" AS t1_r3, "users"."lastname" AS t1_r4, "users"."admin" AS t1_r5, "users"."status" AS t1_r6, "users"."last_login_on" AS t1_r7, "users"."language" AS t1_r8, "users"."auth_source_id" AS t1_r9, "users"."created_on" AS t1_r10, "users"."updated_on" AS t1_r11, "users"."type" AS t1_r12, "users"."identity_url" AS t1_r13, "users"."mail_notification" AS t1_r14, "users"."salt" AS t1_r15, "users"."must_change_passwd" AS t1_r16, "users"."passwd_changed_on" AS t1_r17, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13 FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" LEFT OUTER JOIN "users" ON "users"."id" = "news"."author_id" AND "users"."type" IN ('User', 'AnonymousUser') WHERE "news"."project_id" = ? AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news'))  ORDER BY news.created_on DESC LIMIT 10 OFFSET 0[0m  [["project_id", 1]]
  [1m[35mEnabledModule Load (0.2ms)[0m  SELECT "enabled_modules".* FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mWatcher Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 3 LIMIT 1[0m  [["watchable_type", "EnabledModule"], ["user_id", 1]]
  Rendered attachments/_form.html.erb (1.6ms)
  Rendered news/_form.html.erb (3.9ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered news/index.html.erb within layouts/base (12.3ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 137ms (Views: 53.5ms | ActiveRecord: 67.3ms)


Started GET "/projects/plugin/documents" for 127.0.0.1 at 2017-06-07 11:17:08 +0600
Processing by DocumentsController#index as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[36mSQL (75.3ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:09.025169' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.2ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mDocument Load (0.2ms)[0m  SELECT "documents".* FROM "documents" WHERE "documents"."project_id" = ?  [["project_id", 1]]
  [1m[36mDocumentCategory Load (0.2ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('DocumentCategory') AND "enumerations"."id" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["id", 0]]
  [1m[35mDocumentCategory Load (0.1ms)[0m  SELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('DocumentCategory') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1  [["is_default", "t"]]
  [1m[36mDocumentCategory Load (0.1ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('DocumentCategory')  ORDER BY "enumerations"."position" ASC LIMIT 1[0m
  [1m[35mDocumentCategory Load (0.4ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('DocumentCategory') AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC  [["active", "t"]]
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'DocumentCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  Rendered attachments/_form.html.erb (1.3ms)
  Rendered documents/_form.html.erb (6.6ms)
  Rendered documents/index.html.erb within layouts/base (11.7ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 144ms (Views: 45.9ms | ActiveRecord: 78.0ms)


Started GET "/projects/plugin/files" for 127.0.0.1 at 2017-06-07 11:17:10 +0600
Processing by FilesController#index as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[35mSQL (73.4ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:10.505335' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.1ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mSELECT  DISTINCT "projects"."id" FROM "projects" LEFT OUTER JOIN "attachments" ON "attachments"."container_id" = "projects"."id" AND "attachments"."container_type" = ? WHERE "projects"."id" = ?  ORDER BY attachments.filename ASC LIMIT 1[0m  [["container_type", "Project"], ["id", 1]]
  [1m[35mSQL (0.2ms)[0m  SELECT "projects"."id" AS t0_r0, "projects"."name" AS t0_r1, "projects"."description" AS t0_r2, "projects"."homepage" AS t0_r3, "projects"."is_public" AS t0_r4, "projects"."parent_id" AS t0_r5, "projects"."created_on" AS t0_r6, "projects"."updated_on" AS t0_r7, "projects"."identifier" AS t0_r8, "projects"."status" AS t0_r9, "projects"."lft" AS t0_r10, "projects"."rgt" AS t0_r11, "projects"."inherit_members" AS t0_r12, "projects"."default_version_id" AS t0_r13, "attachments"."id" AS t1_r0, "attachments"."container_id" AS t1_r1, "attachments"."container_type" AS t1_r2, "attachments"."filename" AS t1_r3, "attachments"."disk_filename" AS t1_r4, "attachments"."filesize" AS t1_r5, "attachments"."content_type" AS t1_r6, "attachments"."digest" AS t1_r7, "attachments"."downloads" AS t1_r8, "attachments"."author_id" AS t1_r9, "attachments"."created_on" AS t1_r10, "attachments"."description" AS t1_r11, "attachments"."disk_directory" AS t1_r12 FROM "projects" LEFT OUTER JOIN "attachments" ON "attachments"."container_id" = "projects"."id" AND "attachments"."container_type" = ? WHERE "projects"."id" = ? AND "projects"."id" IN (1)  ORDER BY attachments.filename ASC  [["container_type", "Project"], ["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "versions"."id" AS t0_r0, "versions"."project_id" AS t0_r1, "versions"."name" AS t0_r2, "versions"."description" AS t0_r3, "versions"."effective_date" AS t0_r4, "versions"."created_on" AS t0_r5, "versions"."updated_on" AS t0_r6, "versions"."wiki_page_title" AS t0_r7, "versions"."status" AS t0_r8, "versions"."sharing" AS t0_r9, "attachments"."id" AS t1_r0, "attachments"."container_id" AS t1_r1, "attachments"."container_type" AS t1_r2, "attachments"."filename" AS t1_r3, "attachments"."disk_filename" AS t1_r4, "attachments"."filesize" AS t1_r5, "attachments"."content_type" AS t1_r6, "attachments"."digest" AS t1_r7, "attachments"."downloads" AS t1_r8, "attachments"."author_id" AS t1_r9, "attachments"."created_on" AS t1_r10, "attachments"."description" AS t1_r11, "attachments"."disk_directory" AS t1_r12 FROM "versions" LEFT OUTER JOIN "attachments" ON "attachments"."container_id" = "versions"."id" AND "attachments"."container_type" = ? WHERE "versions"."project_id" = ?  ORDER BY attachments.filename ASC[0m  [["container_type", "Version"], ["project_id", 1]]
  Rendered files/index.html.erb within layouts/base (5.2ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 113ms (Views: 27.3ms | ActiveRecord: 75.3ms)


Started GET "/projects/plugin/wiki" for 127.0.0.1 at 2017-06-07 11:17:11 +0600
Processing by WikiController#show as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[35mSQL (67.3ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:11.889232' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mWikiPage Load (0.1ms)[0m  SELECT  "wiki_pages".* FROM "wiki_pages" WHERE "wiki_pages"."wiki_id" = ? AND (LOWER(title) = LOWER('Wiki'))  ORDER BY title LIMIT 1  [["wiki_id", 1]]
  [1m[36mWikiRedirect Load (7.5ms)[0m  [1mSELECT  "wiki_redirects".* FROM "wiki_redirects" WHERE "wiki_redirects"."wiki_id" = ? AND (LOWER(title) = LOWER('Wiki'))  ORDER BY "wiki_redirects"."id" ASC LIMIT 1[0m  [["wiki_id", 1]]
  [1m[35mWikiPage Exists (15.3ms)[0m  SELECT  1 AS one FROM "wiki_pages" WHERE "wiki_pages"."wiki_id" = ? LIMIT 1  [["wiki_id", 1]]
  Rendered attachments/_form.html.erb (2.6ms)
  Rendered wiki/edit.html.erb within layouts/base (25.1ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 194ms (Views: 39.7ms | ActiveRecord: 92.3ms)


Started GET "/projects/plugin/settings" for 127.0.0.1 at 2017-06-07 11:17:14 +0600
Processing by ProjectsController#settings as HTML
  Parameters: {"id"=>"plugin"}
  [1m[35mSQL (64.0ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:14.236872' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.1ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mTracker Load (0.2ms)[0m  SELECT "trackers".* FROM "trackers"  ORDER BY "trackers"."position" ASC
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status = 1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.lft >= 1 AND projects.rgt <= 2)  ORDER BY "projects"."lft" ASC[0m
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy')))) AND "versions"."status" = ?  [["status", "open"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mEnabledModule Load (0.1ms)[0m  SELECT "enabled_modules".* FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mTracker Load (0.1ms)[0m  [1mSELECT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  ORDER BY "trackers"."position" ASC[0m  [["project_id", 1]]
  Rendered projects/_form.html.erb (7.1ms)
  Rendered projects/_edit.html.erb (8.6ms)
  Rendered projects/settings/_modules.html.erb (6.4ms)
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mMember Load (0.2ms)[0m  [1mSELECT "members".* FROM "members" WHERE "members"."project_id" = ?[0m  [["project_id", 1]]
  Rendered projects/settings/_members.html.erb (6.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mVersion Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "versions" WHERE "versions"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  Rendered projects/settings/_versions.html.erb (6.9ms)
  [1m[35mIssueCategory Exists (0.1ms)[0m  SELECT  1 AS one FROM "issue_categories" WHERE "issue_categories"."project_id" = ? LIMIT 1  [["project_id", 1]]
  Rendered projects/settings/_issue_categories.html.erb (2.3ms)
  Rendered projects/settings/_wiki.html.erb (1.7ms)
  [1m[36mRepository Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "repositories" WHERE "repositories"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  Rendered projects/settings/_repositories.html.erb (4.7ms)
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  Rendered projects/settings/_boards.html.erb (2.2ms)
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'TimeEntryActivityCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT "enumerations"."parent_id" FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND "enumerations"."project_id" = ?  ORDER BY "enumerations"."position" ASC  [["project_id", 1]]
  [1m[36mTimeEntryActivity Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND (enumerations.project_id IS NULL OR enumerations.project_id = 1)  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'TimeEntryActivityCustomField')  ORDER BY "custom_fields"."position" ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'TimeEntryActivityCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  Rendered projects/settings/_activities.html.erb (9.3ms)
  Rendered common/_tabs.html.erb (60.4ms)
  Rendered projects/settings.html.erb within layouts/base (73.2ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 177ms (Views: 96.4ms | ActiveRecord: 67.7ms)


Started GET "/projects/plugin/issues/calendar" for 127.0.0.1 at 2017-06-07 11:17:18 +0600
Processing by CalendarsController#show as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[36mSQL (74.6ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:18.437779' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.3ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.2ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.1ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mTracker Load (0.2ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mIssuePriority Load (0.1ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "users"."id" AS t4_r0, "users"."login" AS t4_r1, "users"."hashed_password" AS t4_r2, "users"."firstname" AS t4_r3, "users"."lastname" AS t4_r4, "users"."admin" AS t4_r5, "users"."status" AS t4_r6, "users"."last_login_on" AS t4_r7, "users"."language" AS t4_r8, "users"."auth_source_id" AS t4_r9, "users"."created_on" AS t4_r10, "users"."updated_on" AS t4_r11, "users"."type" AS t4_r12, "users"."identity_url" AS t4_r13, "users"."mail_notification" AS t4_r14, "users"."salt" AS t4_r15, "users"."must_change_passwd" AS t4_r16, "users"."passwd_changed_on" AS t4_r17, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1) AND (((start_date BETWEEN '2017-05-29' AND '2017-07-02') OR (due_date BETWEEN '2017-05-29' AND '2017-07-02')))
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "versions"."id" AS t0_r0, "versions"."project_id" AS t0_r1, "versions"."name" AS t0_r2, "versions"."description" AS t0_r3, "versions"."effective_date" AS t0_r4, "versions"."created_on" AS t0_r5, "versions"."updated_on" AS t0_r6, "versions"."wiki_page_title" AS t0_r7, "versions"."status" AS t0_r8, "versions"."sharing" AS t0_r9, "projects"."id" AS t1_r0, "projects"."name" AS t1_r1, "projects"."description" AS t1_r2, "projects"."homepage" AS t1_r3, "projects"."is_public" AS t1_r4, "projects"."parent_id" AS t1_r5, "projects"."created_on" AS t1_r6, "projects"."updated_on" AS t1_r7, "projects"."identifier" AS t1_r8, "projects"."status" AS t1_r9, "projects"."lft" AS t1_r10, "projects"."rgt" AS t1_r11, "projects"."inherit_members" AS t1_r12, "projects"."default_version_id" AS t1_r13 FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id = 1) AND (effective_date BETWEEN '2017-05-29' AND '2017-07-02')
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (5.2ms)
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  Rendered common/_calendar.html.erb (8.3ms)
  [1m[36mIssueQuery Load (0.2ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (2.3ms)
  Rendered calendars/show.html.erb within layouts/base (31.9ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.2ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 210ms (Views: 103.4ms | ActiveRecord: 79.0ms)


Started GET "/projects/plugin/issues" for 127.0.0.1 at 2017-06-07 11:17:19 +0600
Processing by IssuesController#index as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[35mSQL (67.4ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:19.167198' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.3ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.2ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mIssueCustomField Load (0.3ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mTracker Load (0.6ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.2ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.2ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.2ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mIssuePriority Load (0.1ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)
  [1m[36mSQL (1.2ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  Rendered queries/_filters.html.erb (9.2ms)
  Rendered queries/_columns.html.erb (2.5ms)
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  Rendered issues/_list.html.erb (7.2ms)
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  [1m[35mIssueQuery Load (0.3ms)[0m  SELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC
  Rendered issues/_sidebar.html.erb (2.7ms)
  Rendered issues/index.html.erb within layouts/base (33.7ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 158ms (Views: 49.6ms | ActiveRecord: 73.8ms)


Started GET "/projects/plugin/activity" for 127.0.0.1 at 2017-06-07 11:17:21 +0600
Processing by ActivitiesController#index as HTML
  Parameters: {"id"=>"plugin"}
  [1m[36mSQL (62.4ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:21.439028' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mSetting Load (0.1ms)[0m  SELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1  [["name", "activity_days_default"]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.lft >= 1 AND projects.rgt <= 2)  ORDER BY "projects"."lft" ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mIssue Load (0.4ms)[0m  SELECT "issues".* FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" WHERE (issues.created_on BETWEEN '2017-05-09' AND '2017-06-08') AND (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')))
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" IN (1)[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" IN (1)
  [1m[36mTracker Load (0.1ms)[0m  [1mSELECT "trackers".* FROM "trackers" WHERE "trackers"."id" IN (1)[0m
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" IN (1)
  [1m[36mJournal Load (0.7ms)[0m  [1mSELECT DISTINCT "journals".* FROM "journals" INNER JOIN "issues" ON "issues"."id" = "journals"."journalized_id" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" LEFT OUTER JOIN journal_details ON journal_details.journal_id = journals.id WHERE (journals.journalized_type = 'Issue' AND (journal_details.prop_key = 'status_id' OR journals.notes <> '')) AND (journals.created_on BETWEEN '2017-05-09' AND '2017-06-08') AND (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND ((journals.private_notes = 'f' OR (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')))))[0m
  [1m[35mChangeset Load (0.2ms)[0m  SELECT "changesets".* FROM "changesets" INNER JOIN "repositories" ON "repositories"."id" = "changesets"."repository_id" INNER JOIN "projects" ON "projects"."id" = "repositories"."project_id" WHERE (changesets.committed_on BETWEEN '2017-05-09' AND '2017-06-08') AND (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='repository')))
  [1m[36mNews Load (0.2ms)[0m  [1mSELECT "news".* FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" WHERE (news.created_on BETWEEN '2017-05-09' AND '2017-06-08') AND (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news')))[0m
  [1m[35mDocument Load (0.2ms)[0m  SELECT "documents".* FROM "documents" INNER JOIN "projects" ON "projects"."id" = "documents"."project_id" WHERE (documents.created_on BETWEEN '2017-05-09' AND '2017-06-08') AND (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='documents')))
  [1m[36mAttachment Load (9.7ms)[0m  [1mSELECT attachments.* FROM "attachments" LEFT JOIN documents ON attachments.container_type='Document' AND documents.id = attachments.container_id LEFT JOIN projects ON documents.project_id = projects.id WHERE (attachments.created_on BETWEEN '2017-05-09' AND '2017-06-08') AND (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='documents')))[0m
  [1m[35mAttachment Load (0.2ms)[0m  SELECT attachments.* FROM "attachments" LEFT JOIN versions ON attachments.container_type='Version' AND versions.id = attachments.container_id LEFT JOIN projects ON versions.project_id = projects.id OR ( attachments.container_type='Project' AND attachments.container_id = projects.id ) WHERE (attachments.created_on BETWEEN '2017-05-09' AND '2017-06-08') AND (((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='files')))
  Cache digest for app/views/activities/index.html.erb: e08776958b99ae2ba94e072d7d4dbd8b
  [1m[36mToken Load (0.1ms)[0m  [1mSELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1[0m  [["user_id", 1]]
  Rendered activities/index.html.erb within layouts/base (7.9ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mWiki Load (0.3ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 204ms (Views: 35.4ms | ActiveRecord: 77.1ms)


Started GET "/projects/plugin" for 127.0.0.1 at 2017-06-07 11:17:24 +0600
Processing by ProjectsController#show as HTML
  Parameters: {"id"=>"plugin"}
  [1m[36mSQL (94.1ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:24.118514' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mMember Load (0.1ms)[0m  SELECT "members".* FROM "members" INNER JOIN "users" ON "users"."id" = "members"."user_id" WHERE "members"."project_id" = ? AND "users"."type" = ? AND "users"."status" = ?  [["project_id", 1], ["type", "User"], ["status", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."parent_id" = ? AND (projects.status <> 9)  ORDER BY "projects"."lft" ASC[0m  [["parent_id", 1]]
  [1m[35mNews Load (0.3ms)[0m  SELECT  "news".* FROM "news" WHERE "news"."project_id" = ?  ORDER BY news.created_on DESC LIMIT 5  [["project_id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, "issues"."tracker_id" AS issues_tracker_id FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) GROUP BY "issues"."tracker_id"[0m
  [1m[35mTracker Load (0.4ms)[0m  SELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, "issues"."tracker_id" AS issues_tracker_id FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) GROUP BY "issues"."tracker_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT SUM("time_entries"."hours") FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2)))[0m
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  Rendered projects/_members_box.html.erb (0.2ms)
  Rendered projects/_sidebar.html.erb (0.8ms)
  Rendered projects/show.html.erb within layouts/base (10.2ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mWiki Load (0.2ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 148ms (Views: 33.1ms | ActiveRecord: 98.1ms)


Started GET "/projects/plugin/news" for 127.0.0.1 at 2017-06-07 11:17:28 +0600
Processing by NewsController#index as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[36mSQL (70.9ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:28.275201' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.7ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" WHERE "news"."project_id" = ? AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news'))  [["project_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mSELECT  "news"."id" AS t0_r0, "news"."project_id" AS t0_r1, "news"."title" AS t0_r2, "news"."summary" AS t0_r3, "news"."description" AS t0_r4, "news"."author_id" AS t0_r5, "news"."created_on" AS t0_r6, "news"."comments_count" AS t0_r7, "users"."id" AS t1_r0, "users"."login" AS t1_r1, "users"."hashed_password" AS t1_r2, "users"."firstname" AS t1_r3, "users"."lastname" AS t1_r4, "users"."admin" AS t1_r5, "users"."status" AS t1_r6, "users"."last_login_on" AS t1_r7, "users"."language" AS t1_r8, "users"."auth_source_id" AS t1_r9, "users"."created_on" AS t1_r10, "users"."updated_on" AS t1_r11, "users"."type" AS t1_r12, "users"."identity_url" AS t1_r13, "users"."mail_notification" AS t1_r14, "users"."salt" AS t1_r15, "users"."must_change_passwd" AS t1_r16, "users"."passwd_changed_on" AS t1_r17, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13 FROM "news" INNER JOIN "projects" ON "projects"."id" = "news"."project_id" LEFT OUTER JOIN "users" ON "users"."id" = "news"."author_id" AND "users"."type" IN ('User', 'AnonymousUser') WHERE "news"."project_id" = ? AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='news'))  ORDER BY news.created_on DESC LIMIT 10 OFFSET 0[0m  [["project_id", 1]]
  [1m[35mEnabledModule Load (0.1ms)[0m  SELECT "enabled_modules".* FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mWatcher Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 3 LIMIT 1[0m  [["watchable_type", "EnabledModule"], ["user_id", 1]]
  Rendered attachments/_form.html.erb (2.5ms)
  Rendered news/_form.html.erb (6.1ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  Rendered news/index.html.erb within layouts/base (13.5ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 122ms (Views: 35.6ms | ActiveRecord: 73.7ms)


Started GET "/projects/plugin/issues/calendar" for 127.0.0.1 at 2017-06-07 11:17:29 +0600
Processing by CalendarsController#show as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[36mSQL (58.3ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:29.087592' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mUserPreference Load (0.2ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mPrincipal Load (0.2ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.2ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.1ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mTracker Load (0.5ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mIssuePriority Load (0.2ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mSQL (0.6ms)[0m  SELECT "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "trackers"."id" AS t3_r0, "trackers"."name" AS t3_r1, "trackers"."is_in_chlog" AS t3_r2, "trackers"."position" AS t3_r3, "trackers"."is_in_roadmap" AS t3_r4, "trackers"."fields_bits" AS t3_r5, "trackers"."default_status_id" AS t3_r6, "users"."id" AS t4_r0, "users"."login" AS t4_r1, "users"."hashed_password" AS t4_r2, "users"."firstname" AS t4_r3, "users"."lastname" AS t4_r4, "users"."admin" AS t4_r5, "users"."status" AS t4_r6, "users"."last_login_on" AS t4_r7, "users"."language" AS t4_r8, "users"."auth_source_id" AS t4_r9, "users"."created_on" AS t4_r10, "users"."updated_on" AS t4_r11, "users"."type" AS t4_r12, "users"."identity_url" AS t4_r13, "users"."mail_notification" AS t4_r14, "users"."salt" AS t4_r15, "users"."must_change_passwd" AS t4_r16, "users"."passwd_changed_on" AS t4_r17, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1) AND (((start_date BETWEEN '2017-05-29' AND '2017-07-02') OR (due_date BETWEEN '2017-05-29' AND '2017-07-02')))
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "versions"."id" AS t0_r0, "versions"."project_id" AS t0_r1, "versions"."name" AS t0_r2, "versions"."description" AS t0_r3, "versions"."effective_date" AS t0_r4, "versions"."created_on" AS t0_r5, "versions"."updated_on" AS t0_r6, "versions"."wiki_page_title" AS t0_r7, "versions"."status" AS t0_r8, "versions"."sharing" AS t0_r9, "projects"."id" AS t1_r0, "projects"."name" AS t1_r1, "projects"."description" AS t1_r2, "projects"."homepage" AS t1_r3, "projects"."is_public" AS t1_r4, "projects"."parent_id" AS t1_r5, "projects"."created_on" AS t1_r6, "projects"."updated_on" AS t1_r7, "projects"."identifier" AS t1_r8, "projects"."status" AS t1_r9, "projects"."lft" AS t1_r10, "projects"."rgt" AS t1_r11, "projects"."inherit_members" AS t1_r12, "projects"."default_version_id" AS t1_r13 FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id = 1) AND (effective_date BETWEEN '2017-05-29' AND '2017-07-02')
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (5.4ms)
  [1m[35mGroup Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  Rendered common/_calendar.html.erb (5.2ms)
  [1m[36mIssueQuery Load (0.3ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (2.5ms)
  Rendered calendars/show.html.erb within layouts/base (19.5ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 131ms (Views: 39.1ms | ActiveRecord: 63.0ms)


Started GET "/projects/plugin/issues/gantt" for 127.0.0.1 at 2017-06-07 11:17:35 +0600
Processing by GanttsController#show as HTML
  Parameters: {"project_id"=>"plugin"}
  [1m[35mSQL (67.2ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:35.523677' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.1ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "user_preferences" SET "others" = ? WHERE "user_preferences"."id" = ?[0m  [["others", "---\n:no_self_notified: '1'\n:comments_sorting: asc\n:warn_on_leaving_unsaved: '1'\n:gantt_zoom: 2\n:gantt_months: 6\n"], ["id", 1]]
  [1m[35m (66.0ms)[0m  commit transaction
  [1m[36mSetting Load (0.1ms)[0m  [1mSELECT  "settings".* FROM "settings" WHERE "settings"."name" = ?  ORDER BY "settings"."id" DESC LIMIT 1[0m  [["name", "gantt_items_limit"]]
  [1m[35mPrincipal Load (0.2ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mVersion Load (0.2ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mIssueCategory Load (0.1ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mTracker Load (0.6ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  Rendered queries/_filters.html.erb (5.6ms)
  [1m[36mIssueCustomField Load (0.4ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mSQL (0.8ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY projects.lft ASC, issues.id ASC LIMIT 500
  [1m[36mSQL (0.4ms)[0m  [1mSELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT DISTINCT "projects".* FROM "projects" LEFT JOIN projects child ON projects.lft <= child.lft AND projects.rgt >= child.rgt WHERE (projects.status <> 9) AND (child.id IN (1))  ORDER BY projects.lft ASC
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("issues"."due_date") FROM "issues" WHERE "issues"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT MAX("versions"."effective_date") FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35m (0.1ms)[0m  SELECT MAX("issues"."due_date") FROM "issues" WHERE (1=0)
  [1m[36m (0.3ms)[0m  [1mSELECT MIN("issues"."start_date") FROM "issues" WHERE "issues"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT MIN("versions"."effective_date") FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36m (0.1ms)[0m  [1mSELECT MIN("issues"."start_date") FROM "issues" WHERE (1=0)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("issues"."due_date") FROM "issues" WHERE "issues"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT MAX("versions"."effective_date") FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT MAX("issues"."due_date") FROM "issues" WHERE (1=0)
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mIssueQuery Load (0.3ms)[0m  SELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC
  Rendered issues/_sidebar.html.erb (3.0ms)
  Rendered gantts/show.html.erb within layouts/base (59.4ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 255ms (Views: 90.1ms | ActiveRecord: 140.0ms)


Started GET "/projects/plugin/issues?set_filter=1" for 127.0.0.1 at 2017-06-07 11:17:41 +0600
Processing by IssuesController#index as HTML
  Parameters: {"set_filter"=>"1", "project_id"=>"plugin"}
  [1m[36mSQL (66.4ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:41.179765' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.2ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mPrincipal Load (0.1ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mVersion Load (0.2ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mIssueCategory Load (0.1ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.3ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mTracker Load (0.5ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mIssueCustomField Load (0.5ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)[0m
  [1m[35mSQL (0.7ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND projects.id = 1)  ORDER BY enumerations.position DESC, issues.updated_on DESC LIMIT 25 OFFSET 0
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (5.9ms)
  Rendered queries/_columns.html.erb (1.3ms)
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered issues/_list.html.erb (7.6ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.2ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (2.1ms)
  Rendered issues/index.html.erb within layouts/base (28.4ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.2ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 148ms (Views: 44.6ms | ActiveRecord: 72.0ms)


Started GET "/projects/plugin/issues?query_id=1" for 127.0.0.1 at 2017-06-07 11:17:48 +0600
Processing by IssuesController#index as HTML
  Parameters: {"query_id"=>"1", "project_id"=>"plugin"}
  [1m[35mSQL (91.7ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:48.599726' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.6ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.2ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mIssueQuery Load (0.5ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND (project_id IS NULL OR project_id = 1) AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.3ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (0.6ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mPrincipal Load (0.2ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mVersion Load (0.2ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mIssueCategory Load (0.1ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.3ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mIssuePriority Load (0.4ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999') AND projects.id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999') AND projects.id = 1)  ORDER BY issues.id DESC LIMIT 25 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (5.9ms)
  Rendered queries/_columns.html.erb (1.3ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.4ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (4.2ms)
  Rendered issues/index.html.erb within layouts/base (22.8ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.2ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 184ms (Views: 39.9ms | ActiveRecord: 98.8ms)


Started GET "/projects/plugin/issues?query_id=1" for 127.0.0.1 at 2017-06-07 11:17:55 +0600
Processing by IssuesController#index as HTML
  Parameters: {"query_id"=>"1", "project_id"=>"plugin"}
  [1m[35mSQL (80.4ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:56.000421' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1[0m  [["identifier", "plugin"]]
  [1m[35m (0.1ms)[0m  SELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?  [["project_id", 1]]
  [1m[36mIssueQuery Load (0.1ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND (project_id IS NULL OR project_id = 1) AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.3ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mTracker Load (0.6ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mPrincipal Load (0.1ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mVersion Load (0.2ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mIssueCategory Load (0.1ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mIssuePriority Load (0.1ms)[0m  SELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC
  [1m[36mGroup Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?[0m  [["type", "Group"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC  [["builtin", 0]]
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC[0m  [["is_filter", "t"]]
  [1m[35mCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?  [["is_filter", "t"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999') AND projects.id = 1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".id FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mSELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.assigned_to_id IN ('1')) AND issues.id IS NOT NULL AND (issues.priority_id IN ('1')) AND (issues.created_on > '2017-06-06 23:59:59.999999' AND issues.created_on <= '2017-06-07 23:59:59.999999') AND projects.id = 1)  ORDER BY issues.id DESC LIMIT 25 OFFSET 0[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (5.1ms)
  Rendered queries/_columns.html.erb (1.4ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.4ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (4.0ms)
  Rendered issues/index.html.erb within layouts/base (22.2ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.3ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 150ms (Views: 38.4ms | ActiveRecord: 85.4ms)


Started GET "/queries/1/edit" for 127.0.0.1 at 2017-06-07 11:17:58 +0600
Processing by QueriesController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (76.3ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:17:58.704159' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueQuery Load (0.2ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC, "roles"."builtin" ASC  [["builtin", 0]]
  [1m[36mRole Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "queries_roles" ON "roles"."id" = "queries_roles"."role_id" WHERE "queries_roles"."query_id" = ? AND "roles"."id" = ? LIMIT 1[0m  [["query_id", 1], ["id", 3]]
  [1m[35mRole Exists (0.0ms)[0m  SELECT  1 AS one FROM "roles" INNER JOIN "queries_roles" ON "roles"."id" = "queries_roles"."role_id" WHERE "queries_roles"."query_id" = ? AND "roles"."id" = ? LIMIT 1  [["query_id", 1], ["id", 4]]
  [1m[36mRole Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "roles" INNER JOIN "queries_roles" ON "roles"."id" = "queries_roles"."role_id" WHERE "queries_roles"."query_id" = ? AND "roles"."id" = ? LIMIT 1[0m  [["query_id", 1], ["id", 5]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36mTracker Load (0.4ms)[0m  [1mSELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE (projects.status <> 9)
  [1m[36mPrincipal Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."status" = ? AND (users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (1)))[0m  [["status", 1]]
  [1m[35mVersion Load (0.1ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?  [["sharing", "system"]]
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mMember Exists (0.2ms)[0m  SELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1  [["user_id", 1]]
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  Rendered queries/_filters.html.erb (16.5ms)
  Rendered queries/_columns.html.erb (2.5ms)
  Rendered queries/_form.html.erb (32.3ms)
  Rendered queries/edit.html.erb within layouts/base (34.0ms)
  [1m[35mUserPreference Load (0.1ms)[0m  SELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
Completed 200 OK in 125ms (Views: 41.0ms | ActiveRecord: 79.1ms)


Started DELETE "/queries/1" for 127.0.0.1 at 2017-06-07 11:18:08 +0600
Processing by QueriesController#destroy as HTML
  Parameters: {"authenticity_token"=>"SDremQqxrnOogcyJhEK1DV6zVht+GdF3O0aNjGoS56NDqvZnr811dJZSRJneQtBIAO0ftBlX6q42Y67nsfe4aQ==", "id"=>"1"}
  [1m[35mSQL (60.8ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:18:08.097813' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssueQuery Load (0.1ms)[0m  [1mSELECT  "queries".* FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND "queries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "queries_roles" WHERE "queries_roles"."query_id" = ?[0m  [["query_id", 1]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "queries" WHERE "queries"."type" IN ('IssueQuery') AND "queries"."id" = ?  [["id", 1]]
  [1m[36m (75.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/issues?set_filter=1
Completed 302 Found in 143ms (ActiveRecord: 137.0ms)


Started GET "/issues?set_filter=1" for 127.0.0.1 at 2017-06-07 11:18:08 +0600
Processing by IssuesController#index as HTML
  Parameters: {"set_filter"=>"1"}
  [1m[35mSQL (62.8ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:18:08.251455' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  [1m[35mPrincipal Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."status" = ? AND (users.id IN (SELECT DISTINCT user_id FROM members WHERE project_id IN (1)))  [["status", 1]]
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND "versions"."sharing" = ?[0m  [["sharing", "system"]]
  [1m[35mIssueStatus Load (0.1ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mMember Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "members" INNER JOIN "projects" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) LIMIT 1[0m  [["user_id", 1]]
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.1ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.0ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields"."is_for_all" = ? AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_for_all", "t"], ["is_filter", "t"]]
  [1m[36mCustomField Load (0.0ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField')
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))[0m
  [1m[35mSQL (0.7ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')))  ORDER BY issues.id DESC LIMIT 25 OFFSET 0
  [1m[36mSQL (0.4ms)[0m  [1mSELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position[0m
  Rendered queries/_filters.html.erb (4.0ms)
  Rendered queries/_columns.html.erb (1.6ms)
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mUserPreference Load (0.3ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered issues/_list.html.erb (7.6ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.2ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (1.6ms)
  Rendered issues/index.html.erb within layouts/base (23.8ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
Completed 200 OK in 119ms (Views: 30.2ms | ActiveRecord: 66.8ms)


Started GET "/projects/plugin" for 127.0.0.1 at 2017-06-07 11:18:17 +0600
Processing by ProjectsController#show as HTML
  Parameters: {"id"=>"plugin"}
  [1m[36mSQL (62.6ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:18:17.851850' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mMember Load (0.1ms)[0m  SELECT "members".* FROM "members" INNER JOIN "users" ON "users"."id" = "members"."user_id" WHERE "members"."project_id" = ? AND "users"."type" = ? AND "users"."status" = ?  [["project_id", 1], ["type", "User"], ["status", 1]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."parent_id" = ? AND (projects.status <> 9)  ORDER BY "projects"."lft" ASC[0m  [["parent_id", 1]]
  [1m[35mNews Load (0.1ms)[0m  SELECT  "news".* FROM "news" WHERE "news"."project_id" = ?  ORDER BY news.created_on DESC LIMIT 5  [["project_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) AS count_all, "issues"."tracker_id" AS issues_tracker_id FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (issue_statuses.is_closed = 'f') AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) GROUP BY "issues"."tracker_id"[0m
  [1m[35mTracker Load (0.1ms)[0m  SELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) AS count_all, "issues"."tracker_id" AS issues_tracker_id FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2))) GROUP BY "issues"."tracker_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT SUM("time_entries"."hours") FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND ((projects.id = 1 OR (projects.lft > 1 AND projects.rgt < 2)))[0m
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'ProjectCustomField')  ORDER BY "custom_fields"."position" ASC[0m
  [1m[35mTracker Load (0.3ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  Rendered projects/_members_box.html.erb (0.0ms)
  Rendered projects/_sidebar.html.erb (0.4ms)
  Rendered projects/show.html.erb within layouts/base (8.7ms)
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mWiki Load (0.1ms)[0m  SELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mBoard Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mRepository Load (0.1ms)[0m  SELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1  [["project_id", 1]]
Completed 200 OK in 108ms (Views: 27.2ms | ActiveRecord: 65.7ms)


Started GET "/projects/plugin/issues?set_filter=1&tracker_id=1" for 127.0.0.1 at 2017-06-07 11:18:21 +0600
Processing by IssuesController#index as HTML
  Parameters: {"set_filter"=>"1", "tracker_id"=>"1", "project_id"=>"plugin"}
  [1m[36mSQL (67.6ms)[0m  [1mUPDATE "tokens" SET "updated_on" = '2017-06-07 11:18:21.794439' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?[0m  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[35m (0.1ms)[0m  SELECT MAX("settings"."updated_on") FROM "settings"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1[0m  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."identifier" = ? LIMIT 1  [["identifier", "plugin"]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mPrincipal Load (0.1ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)  [["status", 1]]
  [1m[36mVersion Load (0.5ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))[0m
  [1m[35mIssueCategory Load (0.1ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mIssueStatus Load (0.2ms)[0m  [1mSELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC[0m
  [1m[35mTracker Load (0.4ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.0ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35mIssueCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.tracker_id IN ('1')) AND projects.id = 1)[0m
  [1m[35mSQL (0.7ms)[0m  SELECT  "issues"."id" AS t0_r0, "issues"."tracker_id" AS t0_r1, "issues"."project_id" AS t0_r2, "issues"."subject" AS t0_r3, "issues"."description" AS t0_r4, "issues"."due_date" AS t0_r5, "issues"."category_id" AS t0_r6, "issues"."status_id" AS t0_r7, "issues"."assigned_to_id" AS t0_r8, "issues"."priority_id" AS t0_r9, "issues"."fixed_version_id" AS t0_r10, "issues"."author_id" AS t0_r11, "issues"."lock_version" AS t0_r12, "issues"."created_on" AS t0_r13, "issues"."updated_on" AS t0_r14, "issues"."start_date" AS t0_r15, "issues"."done_ratio" AS t0_r16, "issues"."estimated_hours" AS t0_r17, "issues"."parent_id" AS t0_r18, "issues"."root_id" AS t0_r19, "issues"."lft" AS t0_r20, "issues"."rgt" AS t0_r21, "issues"."is_private" AS t0_r22, "issues"."closed_on" AS t0_r23, "issue_statuses"."id" AS t1_r0, "issue_statuses"."name" AS t1_r1, "issue_statuses"."is_closed" AS t1_r2, "issue_statuses"."position" AS t1_r3, "issue_statuses"."default_done_ratio" AS t1_r4, "projects"."id" AS t2_r0, "projects"."name" AS t2_r1, "projects"."description" AS t2_r2, "projects"."homepage" AS t2_r3, "projects"."is_public" AS t2_r4, "projects"."parent_id" AS t2_r5, "projects"."created_on" AS t2_r6, "projects"."updated_on" AS t2_r7, "projects"."identifier" AS t2_r8, "projects"."status" AS t2_r9, "projects"."lft" AS t2_r10, "projects"."rgt" AS t2_r11, "projects"."inherit_members" AS t2_r12, "projects"."default_version_id" AS t2_r13, "users"."id" AS t3_r0, "users"."login" AS t3_r1, "users"."hashed_password" AS t3_r2, "users"."firstname" AS t3_r3, "users"."lastname" AS t3_r4, "users"."admin" AS t3_r5, "users"."status" AS t3_r6, "users"."last_login_on" AS t3_r7, "users"."language" AS t3_r8, "users"."auth_source_id" AS t3_r9, "users"."created_on" AS t3_r10, "users"."updated_on" AS t3_r11, "users"."type" AS t3_r12, "users"."identity_url" AS t3_r13, "users"."mail_notification" AS t3_r14, "users"."salt" AS t3_r15, "users"."must_change_passwd" AS t3_r16, "users"."passwd_changed_on" AS t3_r17, "trackers"."id" AS t4_r0, "trackers"."name" AS t4_r1, "trackers"."is_in_chlog" AS t4_r2, "trackers"."position" AS t4_r3, "trackers"."is_in_roadmap" AS t4_r4, "trackers"."fields_bits" AS t4_r5, "trackers"."default_status_id" AS t4_r6, "enumerations"."id" AS t5_r0, "enumerations"."name" AS t5_r1, "enumerations"."position" AS t5_r2, "enumerations"."is_default" AS t5_r3, "enumerations"."type" AS t5_r4, "enumerations"."active" AS t5_r5, "enumerations"."project_id" AS t5_r6, "enumerations"."parent_id" AS t5_r7, "enumerations"."position_name" AS t5_r8, "issue_categories"."id" AS t6_r0, "issue_categories"."project_id" AS t6_r1, "issue_categories"."name" AS t6_r2, "issue_categories"."assigned_to_id" AS t6_r3, "versions"."id" AS t7_r0, "versions"."project_id" AS t7_r1, "versions"."name" AS t7_r2, "versions"."description" AS t7_r3, "versions"."effective_date" AS t7_r4, "versions"."created_on" AS t7_r5, "versions"."updated_on" AS t7_r6, "versions"."wiki_page_title" AS t7_r7, "versions"."status" AS t7_r8, "versions"."sharing" AS t7_r9 FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.tracker_id IN ('1')) AND projects.id = 1)  ORDER BY issues.id DESC LIMIT 25 OFFSET 0
  [1m[36mSQL (0.5ms)[0m  [1mSELECT "custom_values".*, "custom_values"."id" AS t0_r0, "custom_values"."customized_type" AS t0_r1, "custom_values"."customized_id" AS t0_r2, "custom_values"."custom_field_id" AS t0_r3, "custom_values"."value" AS t0_r4, "custom_fields"."id" AS t1_r0, "custom_fields"."type" AS t1_r1, "custom_fields"."name" AS t1_r2, "custom_fields"."field_format" AS t1_r3, "custom_fields"."possible_values" AS t1_r4, "custom_fields"."regexp" AS t1_r5, "custom_fields"."min_length" AS t1_r6, "custom_fields"."max_length" AS t1_r7, "custom_fields"."is_required" AS t1_r8, "custom_fields"."is_for_all" AS t1_r9, "custom_fields"."is_filter" AS t1_r10, "custom_fields"."position" AS t1_r11, "custom_fields"."searchable" AS t1_r12, "custom_fields"."default_value" AS t1_r13, "custom_fields"."editable" AS t1_r14, "custom_fields"."visible" AS t1_r15, "custom_fields"."multiple" AS t1_r16, "custom_fields"."format_store" AS t1_r17, "custom_fields"."description" AS t1_r18 FROM "custom_values" LEFT OUTER JOIN "custom_fields" ON "custom_fields"."id" = "custom_values"."custom_field_id" WHERE "custom_values"."customized_type" = 'Issue' AND "custom_values"."customized_id" IN (1)  ORDER BY custom_fields.position[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE (projects.status <> 9)[0m
  Rendered queries/_filters.html.erb (4.6ms)
  Rendered queries/_columns.html.erb (2.2ms)
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mUserPreference Load (0.1ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered issues/_list.html.erb (9.1ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.5ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (3.0ms)
  Rendered issues/index.html.erb within layouts/base (31.4ms)
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?  [["user_id", 1], ["status", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 150ms (Views: 50.1ms | ActiveRecord: 72.9ms)


Started GET "/issues/1" for 127.0.0.1 at 2017-06-07 11:18:27 +0600
Processing by IssuesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mSQL (66.9ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:18:27.792198' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssue Load (0.1ms)[0m  [1mSELECT  "issues".* FROM "issues" WHERE "issues"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProject Load (0.1ms)[0m  SELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mSQL (0.2ms)[0m  SELECT "journals"."id" AS t0_r0, "journals"."journalized_id" AS t0_r1, "journals"."journalized_type" AS t0_r2, "journals"."user_id" AS t0_r3, "journals"."notes" AS t0_r4, "journals"."created_on" AS t0_r5, "journals"."private_notes" AS t0_r6, "users"."id" AS t1_r0, "users"."login" AS t1_r1, "users"."hashed_password" AS t1_r2, "users"."firstname" AS t1_r3, "users"."lastname" AS t1_r4, "users"."admin" AS t1_r5, "users"."status" AS t1_r6, "users"."last_login_on" AS t1_r7, "users"."language" AS t1_r8, "users"."auth_source_id" AS t1_r9, "users"."created_on" AS t1_r10, "users"."updated_on" AS t1_r11, "users"."type" AS t1_r12, "users"."identity_url" AS t1_r13, "users"."mail_notification" AS t1_r14, "users"."salt" AS t1_r15, "users"."must_change_passwd" AS t1_r16, "users"."passwd_changed_on" AS t1_r17, "journal_details"."id" AS t2_r0, "journal_details"."journal_id" AS t2_r1, "journal_details"."property" AS t2_r2, "journal_details"."prop_key" AS t2_r3, "journal_details"."old_value" AS t2_r4, "journal_details"."value" AS t2_r5 FROM "journals" LEFT OUTER JOIN "users" ON "users"."id" = "journals"."user_id" AND "users"."type" IN ('User', 'AnonymousUser') LEFT OUTER JOIN "journal_details" ON "journal_details"."journal_id" = "journals"."id" WHERE "journals"."journalized_id" = ? AND "journals"."journalized_type" = ?  ORDER BY "journals"."created_on" ASC, "journals"."id" ASC  [["journalized_id", 1], ["journalized_type", "Issue"]]
  [1m[36mUserPreference Load (0.3ms)[0m  [1mSELECT  "user_preferences".* FROM "user_preferences" WHERE "user_preferences"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mChangeset Load (0.1ms)[0m  SELECT "changesets".* FROM "changesets" INNER JOIN "repositories" ON "repositories"."id" = "changesets"."repository_id" INNER JOIN "projects" ON "projects"."id" = "repositories"."project_id" INNER JOIN "changesets_issues" ON "changesets"."id" = "changesets_issues"."changeset_id" WHERE "changesets_issues"."issue_id" = ? AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='repository'))  ORDER BY changesets.committed_on ASC, changesets.id ASC  [["issue_id", 1]]
  [1m[36mIssueRelation Load (0.1ms)[0m  [1mSELECT "issue_relations".* FROM "issue_relations" WHERE "issue_relations"."issue_from_id" = ?[0m  [["issue_from_id", 1]]
  [1m[35mIssueRelation Load (0.1ms)[0m  SELECT "issue_relations".* FROM "issue_relations" WHERE "issue_relations"."issue_to_id" = ?  [["issue_to_id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mTracker Load (0.1ms)[0m  [1mSELECT  "trackers".* FROM "trackers" WHERE "trackers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssueStatus Load (0.1ms)[0m  [1mSELECT DISTINCT "issue_statuses".* FROM "issue_statuses" INNER JOIN "workflows" ON "workflows"."new_status_id" = "issue_statuses"."id" AND "workflows"."type" IN ('WorkflowTransition') WHERE "workflows"."old_status_id" = ? AND "workflows"."tracker_id" = ? AND "workflows"."role_id" IN (1, 2, 3, 4, 5)[0m  [["old_status_id", 1], ["tracker_id", 1]]
  [1m[35mTimeEntryActivity Load (0.1ms)[0m  SELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND "enumerations"."is_default" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1  [["is_default", "t"]]
  [1m[36m (0.2ms)[0m  [1mSELECT SUM("time_entries"."hours") AS sum_hours, "time_entries"."issue_id" AS time_entries_issue_id FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND "time_entries"."issue_id" = 1 GROUP BY "time_entries"."issue_id"[0m
  [1m[35m (0.2ms)[0m  SELECT SUM("time_entries"."hours") AS sum_hours, parent.id AS parent_id FROM "time_entries" INNER JOIN "projects" ON "projects"."id" = "time_entries"."project_id" INNER JOIN "issues" ON "issues"."id" = "time_entries"."issue_id" JOIN issues parent ON parent.root_id = issues.root_id AND parent.lft <= issues.lft AND parent.rgt >= issues.rgt WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='time_tracking')) AND (parent.id IN (1)) GROUP BY parent.id
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mIssueCustomField Load (0.4ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "enabled_modules"."name" FROM "enabled_modules" WHERE "enabled_modules"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35mTracker Load (0.3ms)[0m  SELECT DISTINCT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "projects_trackers"."tracker_id" = "trackers"."id" INNER JOIN "projects" ON "projects"."id" = "projects_trackers"."project_id" INNER JOIN "enabled_modules" ON "enabled_modules"."project_id" = "projects"."id" WHERE (projects.status <> 9) AND "enabled_modules"."name" = 'issue_tracking' AND (projects.lft >= 1 AND projects.rgt <= 2) AND (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))  ORDER BY "trackers"."position" ASC
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."status" = ? AND (members.project_id = 1)[0m  [["status", 1]]
  [1m[35mVersion Load (0.2ms)[0m  SELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mIssueCategory Load (0.1ms)[0m  [1mSELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name[0m  [["project_id", 1]]
  [1m[35mIssueStatus Load (0.2ms)[0m  SELECT "issue_statuses".* FROM "issue_statuses"  ORDER BY "issue_statuses"."position" ASC
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority')  ORDER BY "enumerations"."position" ASC[0m
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "users"."type" = ?  [["type", "Group"]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."builtin" = ?  ORDER BY "roles"."position" ASC[0m  [["builtin", 0]]
  [1m[35mIssueCustomField Load (0.1ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1)) AND "custom_fields"."is_filter" = ?  ORDER BY "custom_fields"."position" ASC  [["is_filter", "t"]]
  [1m[36mCustomField Load (0.1ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."is_filter" = ?[0m  [["is_filter", "t"]]
  [1m[35m (0.7ms)[0m  SELECT  "issues"."id" FROM "issues" INNER JOIN "projects" ON "projects"."id" = "issues"."project_id" INNER JOIN "issue_statuses" ON "issue_statuses"."id" = "issues"."status_id" LEFT OUTER JOIN "users" ON "users"."id" = "issues"."assigned_to_id" LEFT OUTER JOIN "trackers" ON "trackers"."id" = "issues"."tracker_id" LEFT OUTER JOIN "enumerations" ON "enumerations"."id" = "issues"."priority_id" AND "enumerations"."type" IN ('IssuePriority') LEFT OUTER JOIN "issue_categories" ON "issue_categories"."id" = "issues"."category_id" LEFT OUTER JOIN "versions" ON "versions"."id" = "issues"."fixed_version_id" WHERE (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed='f')) AND (issues.tracker_id IN ('1')) AND projects.id = 1)  ORDER BY issues.id DESC LIMIT 501
  [1m[36mWatcher Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 1 LIMIT 1[0m  [["watchable_type", "Issue"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))
  Rendered issues/_action_menu.html.erb (2.9ms)
  [1m[36mIssuePriority Load (0.1ms)[0m  [1mSELECT  "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."id" = ?  ORDER BY "enumerations"."position" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mGroup Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "groups_users" ON "users"."id" = "groups_users"."group_id" WHERE "users"."type" IN ('Group', 'GroupBuiltin', 'GroupAnonymous', 'GroupNonMember') AND "groups_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "issue_categories".* FROM "issue_categories" WHERE "issue_categories"."project_id" = ?  ORDER BY issue_categories.name  [["project_id", 1]]
  [1m[36mVersion Load (0.1ms)[0m  [1mSELECT "versions".* FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy')))) AND "versions"."status" = ?[0m  [["status", "open"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE "custom_fields"."type" IN ('IssueCustomField') AND (is_for_all = 't' OR id IN (SELECT DISTINCT cfp.custom_field_id FROM custom_fields_projects cfp WHERE cfp.project_id = 1))  ORDER BY "custom_fields"."position" ASC
  [1m[36mIssueCustomField Load (0.2ms)[0m  [1mSELECT "custom_fields".* FROM "custom_fields" INNER JOIN "custom_fields_trackers" ON "custom_fields"."id" = "custom_fields_trackers"."custom_field_id" WHERE "custom_fields"."type" IN ('IssueCustomField') AND "custom_fields_trackers"."tracker_id" = ?[0m  [["tracker_id", 1]]
  [1m[35mAttachment Load (0.3ms)[0m  SELECT "attachments".* FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ?  ORDER BY attachments.created_on ASC, attachments.id ASC  [["container_id", 1], ["container_type", "Issue"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "attachments".* FROM "attachments" WHERE "attachments"."container_id" = ? AND "attachments"."container_type" = ?  ORDER BY attachments.created_on ASC, attachments.id ASC[0m  [["container_id", 1], ["container_type", "Issue"]]
  Rendered issue_relations/_form.html.erb (1.2ms)
  Rendered issues/_relations.html.erb (2.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  1 AS one FROM "watchers" WHERE "watchers"."watchable_type" = ? AND "watchers"."user_id" = ? AND "watchers"."watchable_id" = 1 LIMIT 1  [["watchable_type", "Issue"], ["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" WHERE (projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))[0m
  Rendered issues/_action_menu.html.erb (2.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "roles".* FROM "roles"
  [1m[36mWorkflowPermission Load (0.1ms)[0m  [1mSELECT "workflows".* FROM "workflows" WHERE "workflows"."type" IN ('WorkflowPermission') AND "workflows"."tracker_id" = ? AND "workflows"."old_status_id" = ? AND "workflows"."role_id" IN (1, 3, 4, 5)[0m  [["tracker_id", 1], ["old_status_id", 1]]
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects" WHERE ((projects.status = 1 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking')) OR projects.id = 1) AND (projects.id IN (SELECT DISTINCT project_id FROM projects_trackers))
  [1m[36mTracker Load (0.2ms)[0m  [1mSELECT "trackers".* FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  ORDER BY "trackers"."position" ASC[0m  [["project_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "issue_statuses".* FROM "issue_statuses" WHERE "issue_statuses"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mIssuePriority Load (0.2ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('IssuePriority') AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC[0m  [["active", "t"]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."assignable" = ?  [["assignable", "t"]]
  [1m[36mPrincipal Load (0.1ms)[0m  [1mSELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" INNER JOIN "member_roles" ON "member_roles"."member_id" = "members"."id" INNER JOIN "roles" ON "roles"."id" = "member_roles"."role_id" WHERE "users"."status" = ? AND "members"."project_id" = ? AND "users"."type" = 'User' AND "roles"."assignable" = 't' AND "roles"."id" IN (1, 2, 3, 4, 5)  ORDER BY users.type DESC, users.firstname, users.lastname, users.id[0m  [["status", 1], ["project_id", 1]]
  Rendered issues/_form_custom_fields.html.erb (0.1ms)
  Rendered issues/_attributes.html.erb (10.9ms)
  Rendered issues/_form.html.erb (22.5ms)
  [1m[35m (0.1ms)[0m  SELECT "enumerations"."parent_id" FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND "enumerations"."project_id" = ?  ORDER BY "enumerations"."position" ASC  [["project_id", 1]]
  [1m[36mTimeEntryActivity Load (0.1ms)[0m  [1mSELECT "enumerations".* FROM "enumerations" WHERE "enumerations"."type" IN ('TimeEntryActivity') AND (enumerations.project_id IS NULL OR enumerations.project_id = 1) AND "enumerations"."active" = ?  ORDER BY "enumerations"."position" ASC[0m  [["active", "t"]]
  [1m[35mCustomField Load (0.2ms)[0m  SELECT "custom_fields".* FROM "custom_fields" WHERE (type = 'TimeEntryCustomField')  ORDER BY "custom_fields"."position" ASC
  Rendered attachments/_form.html.erb (1.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT MAX("journals"."id") FROM "journals" WHERE "journals"."journalized_id" = ? AND "journals"."journalized_type" = ?[0m  [["journalized_id", 1], ["journalized_type", "Issue"]]
  Rendered issues/_edit.html.erb (32.1ms)
  [1m[35mToken Load (0.1ms)[0m  SELECT  "tokens".* FROM "tokens" WHERE "tokens"."user_id" = ? AND (action='feeds') LIMIT 1  [["user_id", 1]]
  [1m[36mIssueQuery Load (0.2ms)[0m  [1mSELECT "queries".* FROM "queries" LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE "queries"."type" IN ('IssueQuery') AND (queries.project_id IS NULL OR (projects.status <> 9 AND projects.id IN (SELECT em.project_id FROM enabled_modules em WHERE em.name='issue_tracking'))) AND (queries.visibility <> 0 OR queries.user_id = 1) AND (project_id IS NULL OR project_id = 1)  ORDER BY queries.name ASC[0m
  Rendered issues/_sidebar.html.erb (1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "watchers" ON "users"."id" = "watchers"."user_id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "watchers"."watchable_id" = ? AND "watchers"."watchable_type" = ?  [["watchable_id", 1], ["watchable_type", "Issue"]]
  Rendered watchers/_watchers.html.erb (4.2ms)
  Rendered issues/show.html.erb within layouts/base (68.2ms)
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects"."id", "projects"."name", "projects"."identifier", "projects"."lft", "projects"."rgt" FROM "projects" INNER JOIN "members" ON "projects"."id" = "members"."project_id" WHERE "members"."user_id" = ? AND (projects.status<>9) AND "projects"."status" = ?[0m  [["user_id", 1], ["status", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?  [["project_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "trackers" INNER JOIN "projects_trackers" ON "trackers"."id" = "projects_trackers"."tracker_id" WHERE "projects_trackers"."project_id" = ?[0m  [["project_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "versions" INNER JOIN "projects" ON "projects"."id" = "versions"."project_id" WHERE (projects.id = 1 OR (projects.status <> 9 AND ( versions.sharing = 'system' OR (projects.lft >= 1 AND projects.rgt <= 2 AND versions.sharing = 'tree') OR (projects.lft < 1 AND projects.rgt > 2 AND versions.sharing IN ('hierarchy', 'descendants')) OR (projects.lft > 1 AND projects.rgt < 2 AND versions.sharing = 'hierarchy'))))
  [1m[36mWiki Load (0.1ms)[0m  [1mSELECT  "wikis".* FROM "wikis" WHERE "wikis"."project_id" = ? LIMIT 1[0m  [["project_id", 1]]
  [1m[35mBoard Exists (0.1ms)[0m  SELECT  1 AS one FROM "boards" WHERE "boards"."project_id" = ? LIMIT 1  [["project_id", 1]]
  [1m[36mRepository Load (0.1ms)[0m  [1mSELECT  "repositories".* FROM "repositories" WHERE "repositories"."project_id" = ? AND (is_default = 't') LIMIT 1[0m  [["project_id", 1]]
Completed 200 OK in 197ms (Views: 83.1ms | ActiveRecord: 75.8ms)


Started GET "/watchers/new?object_id=1&object_type=issue" for 127.0.0.1 at 2017-06-07 11:18:34 +0600
Processing by WatchersController#new as JS
  Parameters: {"object_id"=>"1", "object_type"=>"issue"}
  [1m[35mSQL (68.9ms)[0m  UPDATE "tokens" SET "updated_on" = '2017-06-07 11:18:34.834881' WHERE "tokens"."user_id" = ? AND "tokens"."value" = ? AND "tokens"."action" = ?  [["user_id", 1], ["value", "ed16ba4a44f4590c95f05269d37474d648ffcec1"], ["action", "session"]]
  [1m[36m (0.2ms)[0m  [1mSELECT MAX("settings"."updated_on") FROM "settings"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND "users"."id" = ? LIMIT 1  [["status", 1], ["id", 1]]
  Current user: admin (id=1)
  [1m[36mIssue Load (0.2ms)[0m  [1mSELECT "issues".* FROM "issues" WHERE "issues"."id" = 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" IN (1)
  [1m[36mEnabledModule Load (0.1ms)[0m  [1mSELECT "enabled_modules".* FROM "enabled_modules" WHERE "enabled_modules"."project_id" IN (1)[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT DISTINCT "users".* FROM "users" INNER JOIN "members" ON "members"."user_id" = "users"."id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "users"."status" = ? AND (members.project_id = 1) AND "users"."status" = ?  ORDER BY users.firstname, users.lastname, users.id  [["status", 1], ["status", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "watchers" ON "users"."id" = "watchers"."user_id" WHERE "users"."type" IN ('User', 'AnonymousUser') AND "watchers"."watchable_id" = ? AND "watchers"."watchable_type" = ?[0m  [["watchable_id", 1], ["watchable_type", "Issue"]]
  Rendered watchers/_new.html.erb (2.2ms)
  Rendered watchers/new.js.erb (6.8ms)
Completed 200 OK in 105ms (Views: 24.1ms | ActiveRecord: 70.1ms)
